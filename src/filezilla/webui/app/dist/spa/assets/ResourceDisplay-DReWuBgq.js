import{j as _e,u as La,k as Ia,c as h,l as d,m as Ie,n as xl,q as $n,s as On,v as zn,x as We,P as Hn,y as Fe,z as M,A as kl,B as nl,C as Le,D as ca,E as de,G as Vt,H as Rt,I as Ln,J as il,K as da,L as Aa,M as In,N as An,O as st,R as ja,S as Na,T as jn,U as ct,V as Nn,W as Bl,X as Ya,Y as Yn,Z as Un,$ as Qn,a0 as Wn,a1 as Kn,a2 as fa,a3 as Ua,a4 as Xn,a5 as Ft,a6 as Zn,a7 as Gn,a8 as Jn,a9 as tt,aa as Tt,ab as Qa,ac as Wa,ad as eo,ae as to,af as Ul,ag as Ka,ah as Xa,ai as Ql,aj as Za,ak as Ga,al as Ja,am as Wl,an as Kl,ao as lo,ap as en,aq as It,ar as tn,as as ao,at as va,au as Gt,av as no,aw as oo,ax as ro,ay as Mt,az as uo,aA as io,aB as ma,aC as El,aD as Sl,aE as Xl,aF as ln,aG as Ml,aH as ge,aI as Zl,aJ as an,aK as so,aL as co,aM as fo,aN as vo,aO as mo,aP as ho,aQ as go,d as Nt,aR as Gl,o as pe,a as Me,w as N,b as H,e as sl,aS as Ze,h as it,f as Ge,t as hl,aT as ol,aU as rl,aV as gt,aW as ha,aX as et,aY as nn,aZ as Jl,a_ as Qe,_ as Yt,a$ as gl,b0 as yo,b1 as bo,b2 as So,b3 as wl,g as on,b4 as ga,b5 as wo,b6 as po,b7 as _o,b8 as Co,b9 as xo,ba as ko,bb as qo,bc as ya,bd as Do,be as Mo,F as Fo}from"./index-CLWElCvo.js";import{Q as rn}from"./QForm-D1L5Iqw0.js";const ii=_e({name:"QBreadcrumbsEl",props:{...La,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:t}){const{linkTag:l,linkAttrs:a,linkClass:n,navigateOnClick:o}=Ia(),s=h(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+n.value:"q-breadcrumbs__el--disable"),...a.value,onClick:o})),u=h(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const c=[];return e.icon!==void 0&&c.push(d(Ie,{class:u.value,name:e.icon})),e.label!==void 0&&c.push(e.label),d(l.value,{...s.value},xl(t.default,c))}}}),To=["",!0],si=_e({name:"QBreadcrumbs",props:{...$n,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:t}){const l=On(e),a=h(()=>`flex items-center ${l.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),n=h(()=>e.separatorColor?` text-${e.separatorColor}`:""),o=h(()=>` text-${e.activeColor}`);return()=>{if(t.default===void 0)return;const s=zn(We(t.default));if(s.length===0)return;let u=1;const c=[],b=s.filter(g=>g.type!==void 0&&g.type.name==="QBreadcrumbsEl").length,i=t.separator!==void 0?t.separator:()=>e.separator;return s.forEach(g=>{if(g.type!==void 0&&g.type.name==="QBreadcrumbsEl"){const _=u<b,y=g.props!==null&&To.includes(g.props.disable),f=(_===!0?"":" q-breadcrumbs--last")+(y!==!0&&_===!0?o.value:"");u++,c.push(d("div",{class:`flex items-center${f}`},[g])),_===!0&&c.push(d("div",{class:"q-breadcrumbs__separator"+n.value},i()))}else c.push(g)}),d("div",{class:"q-breadcrumbs"},[d("div",{class:a.value},c)])}}});function Po(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Hn.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Vo={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},un={...Vo,contextMenu:Boolean};function sn({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:a,proxy:n,emit:o}=Fe(),s=M(null);let u=null;function c(y){return s.value===null?!1:y===void 0||y.touches===void 0||y.touches.length<=1}const b={};l===void 0&&(Object.assign(b,{hide(y){n.hide(y)},toggle(y){n.toggle(y),y.qAnchorHandled=!0},toggleKey(y){kl(y,13)===!0&&b.toggle(y)},contextClick(y){n.hide(y),nl(y),Le(()=>{n.show(y),y.qAnchorHandled=!0})},prevent:nl,mobileTouch(y){if(b.mobileCleanup(y),c(y)!==!0)return;n.hide(y),s.value.classList.add("non-selectable");const f=y.target;ca(b,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,n.show(y),y.qAnchorHandled=!0},300)},mobileCleanup(y){s.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&y!==void 0&&Po()}}),l=function(y=a.contextMenu){if(a.noParentEvent===!0||s.value===null)return;let f;y===!0?n.$q.platform.is.mobile===!0?f=[[s.value,"touchstart","mobileTouch","passive"]]:f=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:f=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],ca(b,"anchor",f)});function i(){Ln(b,"anchor")}function g(y){for(s.value=y;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;l()}function _(){if(a.target===!1||a.target===""||n.$el.parentNode===null)s.value=null;else if(a.target===!0)g(n.$el.parentNode);else{let y=a.target;if(typeof a.target=="string")try{y=document.querySelector(a.target)}catch{y=void 0}y!=null?(s.value=y.$el||y,l()):(s.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return de(()=>a.contextMenu,y=>{s.value!==null&&(i(),l(y))}),de(()=>a.target,()=>{s.value!==null&&i(),_()}),de(()=>a.noParentEvent,y=>{s.value!==null&&(y===!0?i():l())}),Vt(()=>{_(),t!==!0&&a.modelValue===!0&&s.value===null&&o("update:modelValue",!1)}),Rt(()=>{u!==null&&clearTimeout(u),i()}),{anchorEl:s,canShow:c,anchorEvents:b}}function Ro(e,t){const l=M(null);let a;function n(u,c){const b=`${c!==void 0?"add":"remove"}EventListener`,i=c!==void 0?c:a;u!==window&&u[b]("scroll",i,il.passive),window[b]("scroll",i,il.passive),a=c}function o(){l.value!==null&&(n(l.value),l.value=null)}const s=de(()=>e.noParentEvent,()=>{l.value!==null&&(o(),t())});return Rt(s),{localScrollTarget:l,unconfigureScrollTarget:o,changeScrollEvent:n}}const{notPassiveCapture:pl}=il,jt=[];function _l(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=da.length-1;for(;l>=0;){const a=da[l].$;if(a.type.name==="QTooltip"){l--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;l--}for(let a=jt.length-1;a>=0;a--){const n=jt[a];if((n.anchorEl.value===null||n.anchorEl.value.contains(t)===!1)&&(t===document.body||n.innerRef.value!==null&&n.innerRef.value.contains(t)===!1))e.qClickOutside=!0,n.onClickOutside(e);else return}}function Bo(e){jt.push(e),jt.length===1&&(document.addEventListener("mousedown",_l,pl),document.addEventListener("touchstart",_l,pl))}function ba(e){const t=jt.findIndex(l=>l===e);t!==-1&&(jt.splice(t,1),jt.length===0&&(document.removeEventListener("mousedown",_l,pl),document.removeEventListener("touchstart",_l,pl)))}let Sa,wa;function pa(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Eo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const $l={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{$l[`${e}#ltr`]=e,$l[`${e}#rtl`]=e});function _a(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:$l[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function $o(e,t){let{top:l,left:a,right:n,bottom:o,width:s,height:u}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],a-=t[0],o+=t[1],n+=t[0],s+=t[0],u+=t[1]),{top:l,bottom:o,height:u,left:a,right:n,width:s,middle:a+(n-a)/2,center:l+(o-l)/2}}function Oo(e,t,l){let{top:a,left:n}=e.getBoundingClientRect();return a+=t.top,n+=t.left,l!==void 0&&(a+=l[1],n+=l[0]),{top:a,bottom:a+1,height:1,left:n,right:n+1,width:1,middle:n,center:a}}function zo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ca(e,t,l,a){return{top:e[l.vertical]-t[a.vertical],left:e[l.horizontal]-t[a.horizontal]}}function cn(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{cn(e,t+1)},10);return}const{targetEl:l,offset:a,anchorEl:n,anchorOrigin:o,selfOrigin:s,absoluteOffset:u,fit:c,cover:b,maxHeight:i,maxWidth:g}=e;if(Aa.is.ios===!0&&window.visualViewport!==void 0){const B=document.body.style,{offsetLeft:V,offsetTop:U}=window.visualViewport;V!==Sa&&(B.setProperty("--q-pe-left",V+"px"),Sa=V),U!==wa&&(B.setProperty("--q-pe-top",U+"px"),wa=U)}const{scrollLeft:_,scrollTop:y}=l,f=u===void 0?$o(n,b===!0?[0,0]:a):Oo(n,u,a);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:g||"100vw",maxHeight:i||"100vh",visibility:"visible"});const{offsetWidth:q,offsetHeight:p}=l,{elWidth:P,elHeight:D}=c===!0||b===!0?{elWidth:Math.max(f.width,q),elHeight:b===!0?Math.max(f.height,p):p}:{elWidth:q,elHeight:p};let F={maxWidth:g,maxHeight:i};(c===!0||b===!0)&&(F.minWidth=f.width+"px",b===!0&&(F.minHeight=f.height+"px")),Object.assign(l.style,F);const x=zo(P,D);let T=Ca(f,x,o,s);if(u===void 0||a===void 0)Fl(T,f,x,o,s);else{const{top:B,left:V}=T;Fl(T,f,x,o,s);let U=!1;if(T.top!==B){U=!0;const E=2*a[1];f.center=f.top-=E,f.bottom-=E+2}if(T.left!==V){U=!0;const E=2*a[0];f.middle=f.left-=E,f.right-=E+2}U===!0&&(T=Ca(f,x,o,s),Fl(T,f,x,o,s))}F={top:T.top+"px",left:T.left+"px"},T.maxHeight!==void 0&&(F.maxHeight=T.maxHeight+"px",f.height>T.maxHeight&&(F.minHeight=F.maxHeight)),T.maxWidth!==void 0&&(F.maxWidth=T.maxWidth+"px",f.width>T.maxWidth&&(F.minWidth=F.maxWidth)),Object.assign(l.style,F),l.scrollTop!==y&&(l.scrollTop=y),l.scrollLeft!==_&&(l.scrollLeft=_)}function Fl(e,t,l,a,n){const o=l.bottom,s=l.right,u=In(),c=window.innerHeight-u,b=document.body.clientWidth;if(e.top<0||e.top+o>c)if(n.vertical==="center")e.top=t[a.vertical]>c/2?Math.max(0,c-o):0,e.maxHeight=Math.min(o,c);else if(t[a.vertical]>c/2){const i=Math.min(c,a.vertical==="center"?t.center:a.vertical===n.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,i),e.top=Math.max(0,i-o)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===n.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,c-e.top);if(e.left<0||e.left+s>b)if(e.maxWidth=Math.min(s,b),n.horizontal==="middle")e.left=t[a.horizontal]>b/2?Math.max(0,b-s):0;else if(t[a.horizontal]>b/2){const i=Math.min(b,a.horizontal==="middle"?t.middle:a.horizontal===n.horizontal?t.right:t.left);e.maxWidth=Math.min(s,i),e.left=Math.max(0,i-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===n.horizontal?t.left:t.right),e.maxWidth=Math.min(s,b-e.left)}const ea=_e({name:"QMenu",inheritAttrs:!1,props:{...un,...An,...st,...ja,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:pa},self:{type:String,validator:pa},offset:{type:Array,validator:Eo},scrollTarget:Na,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...jn,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){let n=null,o,s,u;const c=Fe(),{proxy:b}=c,{$q:i}=b,g=M(null),_=M(!1),y=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),f=ct(e,i),{registerTick:q,removeTick:p}=Nn(),{registerTimeout:P}=Bl(),{transitionProps:D,transitionStyle:F}=Ya(e),{localScrollTarget:x,changeScrollEvent:T,unconfigureScrollTarget:B}=Ro(e,J),{anchorEl:V,canShow:U}=sn({showing:_}),{hide:E}=Yn({showing:_,canShow:U,handleShow:Ee,handleHide:k,hideOnRouteChange:y,processOnMount:!0}),{showPortal:L,hidePortal:Y,renderPortal:R}=Un(c,g,ue,"menu"),Z={anchorEl:V,innerRef:g,onClickOutside(S){if(e.persistent!==!0&&_.value===!0)return E(S),(S.type==="touchstart"||S.target.classList.contains("q-dialog__backdrop"))&&tt(S),!0}},oe=h(()=>_a(e.anchor||(e.cover===!0?"center middle":"bottom start"),i.lang.rtl)),he=h(()=>e.cover===!0?oe.value:_a(e.self||"top start",i.lang.rtl)),ve=h(()=>(e.square===!0?" q-menu--square":"")+(f.value===!0?" q-menu--dark q-dark":"")),Se=h(()=>e.autoClose===!0?{onClick:re}:{}),Pe=h(()=>_.value===!0&&e.persistent!==!0);de(Pe,S=>{S===!0?(Zn(ee),Bo(Z)):(fa(ee),ba(Z))});function ke(){Gn(()=>{let S=g.value;S&&S.contains(document.activeElement)!==!0&&(S=S.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||S.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||S.querySelector("[autofocus], [data-autofocus]")||S,S.focus({preventScroll:!0}))})}function Ee(S){if(n=e.noRefocus===!1?document.activeElement:null,Qn(me),L(),J(),o=void 0,S!==void 0&&(e.touchPosition||e.contextMenu)){const X=Wn(S);if(X.left!==void 0){const{top:te,left:se}=V.value.getBoundingClientRect();o={left:X.left-se,top:X.top-te}}}s===void 0&&(s=de(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,K)),e.noFocus!==!0&&document.activeElement.blur(),q(()=>{K(),e.noFocus!==!0&&ke()}),P(()=>{i.platform.is.ios===!0&&(u=e.autoClose,g.value.click()),K(),L(!0),l("show",S)},e.transitionDuration)}function k(S){p(),Y(),z(!0),n!==null&&(S===void 0||S.qClickOutside!==!0)&&(((S&&S.type.indexOf("key")===0?n.closest('[tabindex]:not([tabindex^="-"])'):void 0)||n).focus(),n=null),P(()=>{Y(!0),l("hide",S)},e.transitionDuration)}function z(S){o=void 0,s!==void 0&&(s(),s=void 0),(S===!0||_.value===!0)&&(Kn(me),B(),ba(Z),fa(ee)),S!==!0&&(n=null)}function J(){(V.value!==null||e.scrollTarget!==void 0)&&(x.value=Ua(V.value,e.scrollTarget),T(x.value,K))}function re(S){u!==!0?(Xn(b,S),l("click",S)):u=!1}function me(S){Pe.value===!0&&e.noFocus!==!0&&Jn(g.value,S.target)!==!0&&ke()}function ee(S){l("escapeKey"),E(S)}function K(){cn({targetEl:g.value,offset:e.offset,anchorEl:V.value,anchorOrigin:oe.value,selfOrigin:he.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ue(){return d(Ft,D.value,()=>_.value===!0?d("div",{role:"menu",...a,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+ve.value,a.class],style:[a.style,F.value],...Se.value},We(t.default)):null)}return Rt(z),Object.assign(b,{focus:ke,updatePosition:K}),R}}),Lt=_e({name:"QPopupProxy",props:{...un,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:l,attrs:a}){const{proxy:n}=Fe(),{$q:o}=n,s=M(!1),u=M(null),c=h(()=>parseInt(e.breakpoint,10)),{canShow:b}=sn({showing:s});function i(){return o.screen.width<c.value||o.screen.height<c.value?"dialog":"menu"}const g=M(i()),_=h(()=>g.value==="menu"?{maxHeight:"99vh"}:{});de(()=>i(),q=>{s.value!==!0&&(g.value=q)});function y(q){s.value=!0,l("show",q)}function f(q){s.value=!1,g.value=i(),l("hide",q)}return Object.assign(n,{show(q){b(q)===!0&&u.value.show(q)},hide(q){u.value.hide(q)},toggle(q){u.value.toggle(q)}}),Tt(n,"currentComponent",()=>({type:g.value,ref:u.value})),()=>{const q={ref:u,..._.value,...a,onShow:y,onHide:f};let p;return g.value==="dialog"?p=Qa:(p=ea,Object.assign(q,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),d(p,q,t.default)}}}),Ho=d("div",{class:"q-space"}),Lo=_e({name:"QSpace",setup(){return()=>Ho}}),dl=_e({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const l=Fe(),a=h(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return d("td",{class:a.value},We(t.default));const n=l.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[n]:null)||e.props.col;if(o===void 0)return;const{row:s}=e.props;return d("td",{class:a.value+o.__tdClass(s),style:o.__tdStyle(s)},We(t.default))}}}),He=_e({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=h(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>d("div",{class:l.value},We(t.default))}}),yt=_e({name:"QItem",props:{...st,...La,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=Fe(),n=ct(e,a),{hasLink:o,linkAttrs:s,linkClass:u,linkTag:c,navigateOnClick:b}=Ia(),i=M(null),g=M(null),_=h(()=>e.clickable===!0||o.value===!0||e.tag==="label"),y=h(()=>e.disable!==!0&&_.value===!0),f=h(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(n.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?u.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(y.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),q=h(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function p(F){y.value===!0&&(g.value!==null&&(F.qKeyEvent!==!0&&document.activeElement===i.value?g.value.focus():document.activeElement===g.value&&i.value.focus()),b(F))}function P(F){if(y.value===!0&&kl(F,[13,32])===!0){tt(F),F.qKeyEvent=!0;const x=new MouseEvent("click",F);x.qKeyEvent=!0,i.value.dispatchEvent(x)}l("keyup",F)}function D(){const F=Wa(t.default,[]);return y.value===!0&&F.unshift(d("div",{class:"q-focus-helper",tabindex:-1,ref:g})),F}return()=>{const F={ref:i,class:f.value,style:q.value,role:"listitem",onClick:p,onKeyup:P};return y.value===!0?(F.tabindex=e.tabindex||"0",Object.assign(F,s.value)):_.value===!0&&(F["aria-disabled"]="true"),d(c.value,F,D())}}}),ta=_e({name:"QList",props:{...st,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=Fe(),a=ct(e,l.proxy.$q),n=h(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>d(e.tag,{class:n.value},We(t.default))}}),Io=_e({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const l=h(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>d("tr",{class:l.value},We(t.default))}}),Ao=_e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const a=Fe(),{proxy:{$q:n}}=a,o=s=>{l("click",s)};return()=>{if(e.props===void 0)return d("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},We(t.default));let s,u;const c=a.vnode.key;if(c){if(s=e.props.colsMap[c],s===void 0)return}else s=e.props.col;if(s.sortable===!0){const i=s.align==="right"?"unshift":"push";u=Wa(t.default,[]),u[i](d(Ie,{class:s.__iconClass,name:n.iconSet.table.arrowUp}))}else u=We(t.default);const b={class:s.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:s.headerStyle,onClick:i=>{s.sortable===!0&&e.props.sort(s),o(i)}};return d("th",b,u)}}}),jo=["horizontal","vertical","cell","none"],No=_e({name:"QMarkupTable",props:{...st,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>jo.includes(e)}},setup(e,{slots:t}){const l=Fe(),a=ct(e,l.proxy.$q),n=h(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>d("div",{class:n.value},[d("table",{class:"q-table"},We(t.default))])}});function dn(e,t){return d("div",e,[d("table",{class:"q-table"},t)])}let Cl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Cl=e.scrollLeft>=0,e.remove()}const lt=1e3,Yo=["start","center","end","start-force","center-force","end-force"],fn=Array.prototype.filter,Uo=window.getComputedStyle(document.body).overflowAnchor===void 0?eo:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];fn.call(l,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const a=l[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Jt(e,t){return e+t}function Tl(e,t,l,a,n,o,s,u){const c=e===window?document.scrollingElement||document.documentElement:e,b=n===!0?"offsetWidth":"offsetHeight",i={scrollStart:0,scrollViewSize:-s-u,scrollMaxSize:0,offsetStart:-s,offsetEnd:-u};if(n===!0?(e===window?(i.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i.scrollViewSize+=document.documentElement.clientWidth):(i.scrollStart=c.scrollLeft,i.scrollViewSize+=c.clientWidth),i.scrollMaxSize=c.scrollWidth,o===!0&&(i.scrollStart=(Cl===!0?i.scrollMaxSize-i.scrollViewSize:0)-i.scrollStart)):(e===window?(i.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,i.scrollViewSize+=document.documentElement.clientHeight):(i.scrollStart=c.scrollTop,i.scrollViewSize+=c.clientHeight),i.scrollMaxSize=c.scrollHeight),l!==null)for(let g=l.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetStart+=g[b]);if(a!==null)for(let g=a.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetEnd+=g[b]);if(t!==e){const g=c.getBoundingClientRect(),_=t.getBoundingClientRect();n===!0?(i.offsetStart+=_.left-g.left,i.offsetEnd-=_.width):(i.offsetStart+=_.top-g.top,i.offsetEnd-=_.height),e!==window&&(i.offsetStart+=i.scrollStart),i.offsetEnd+=i.scrollMaxSize-i.offsetStart}return i}function xa(e,t,l,a){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(t=(Cl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(a===!0&&(t=(Cl===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function tl(e,t,l,a){if(l>=a)return 0;const n=t.length,o=Math.floor(l/lt),s=Math.floor((a-1)/lt)+1;let u=e.slice(o,s).reduce(Jt,0);return l%lt!==0&&(u-=t.slice(o*lt,l).reduce(Jt,0)),a%lt!==0&&a!==n&&(u-=t.slice(a,s*lt).reduce(Jt,0)),u}const vn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},mn=Object.keys(vn),Ol={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...vn};function hn({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const n=Fe(),{props:o,emit:s,proxy:u}=n,{$q:c}=u;let b,i,g,_=[],y;const f=M(0),q=M(0),p=M({}),P=M(null),D=M(null),F=M(null),x=M({from:0,to:0}),T=h(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=h(()=>o.virtualScrollItemSize));const B=h(()=>a.value+";"+o.virtualScrollHorizontal),V=h(()=>B.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);de(V,()=>{ve()}),de(B,U);function U(){he(i,!0)}function E(k){he(k===void 0?i:k)}function L(k,z){const J=t();if(J==null||J.nodeType===8)return;const re=Tl(J,l(),P.value,D.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);g!==re.scrollViewSize&&ve(re.scrollViewSize),R(J,re,Math.min(e.value-1,Math.max(0,parseInt(k,10)||0)),0,Yo.indexOf(z)!==-1?z:i!==-1&&k>i?"end":"start")}function Y(){const k=t();if(k==null||k.nodeType===8)return;const z=Tl(k,l(),P.value,D.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),J=e.value-1,re=z.scrollMaxSize-z.offsetStart-z.offsetEnd-q.value;if(b===z.scrollStart)return;if(z.scrollMaxSize<=0){R(k,z,0,0);return}g!==z.scrollViewSize&&ve(z.scrollViewSize),Z(x.value.from);const me=Math.floor(z.scrollMaxSize-Math.max(z.scrollViewSize,z.offsetEnd)-Math.min(y[J],z.scrollViewSize/2));if(me>0&&Math.ceil(z.scrollStart)>=me){R(k,z,J,z.scrollMaxSize-z.offsetEnd-_.reduce(Jt,0));return}let ee=0,K=z.scrollStart-z.offsetStart,ue=K;if(K<=re&&K+z.scrollViewSize>=f.value)K-=f.value,ee=x.value.from,ue=K;else for(let S=0;K>=_[S]&&ee<J;S++)K-=_[S],ee+=lt;for(;K>0&&ee<J;)K-=y[ee],K>-z.scrollViewSize?(ee++,ue=K):ue=y[ee]+K;R(k,z,ee,ue)}function R(k,z,J,re,me){const ee=typeof me=="string"&&me.indexOf("-force")!==-1,K=ee===!0?me.replace("-force",""):me,ue=K!==void 0?K:"start";let S=Math.max(0,J-p.value[ue]),X=S+p.value.total;X>e.value&&(X=e.value,S=Math.max(0,X-p.value.total)),b=z.scrollStart;const te=S!==x.value.from||X!==x.value.to;if(te===!1&&K===void 0){Pe(J);return}const{activeElement:se}=document,ce=F.value;te===!0&&ce!==null&&ce!==se&&ce.contains(se)===!0&&(ce.addEventListener("focusout",oe),setTimeout(()=>{ce!==null&&ce.removeEventListener("focusout",oe)})),Uo(ce,J-S);const $e=K!==void 0?y.slice(S,J).reduce(Jt,0):0;if(te===!0){const Ae=X>=x.value.from&&S<=x.value.to?x.value.to:X;x.value={from:S,to:Ae},f.value=tl(_,y,0,S),q.value=tl(_,y,X,e.value),requestAnimationFrame(()=>{x.value.to!==X&&b===z.scrollStart&&(x.value={from:x.value.from,to:X},q.value=tl(_,y,X,e.value))})}requestAnimationFrame(()=>{if(b!==z.scrollStart)return;te===!0&&Z(S);const Ae=y.slice(S,J).reduce(Jt,0),Ve=Ae+z.offsetStart+f.value,qe=Ve+y[J];let dt=Ve+re;if(K!==void 0){const Bt=Ae-$e,ft=z.scrollStart+Bt;dt=ee!==!0&&ft<Ve&&qe<ft+z.scrollViewSize?ft:K==="end"?qe-z.scrollViewSize:Ve-(K==="start"?0:Math.round((z.scrollViewSize-y[J])/2))}b=dt,xa(k,dt,o.virtualScrollHorizontal,c.lang.rtl),Pe(J)})}function Z(k){const z=F.value;if(z){const J=fn.call(z.children,S=>S.classList&&S.classList.contains("q-virtual-scroll--skip")===!1),re=J.length,me=o.virtualScrollHorizontal===!0?S=>S.getBoundingClientRect().width:S=>S.offsetHeight;let ee=k,K,ue;for(let S=0;S<re;){for(K=me(J[S]),S++;S<re&&J[S].classList.contains("q-virtual-scroll--with-prev")===!0;)K+=me(J[S]),S++;ue=K-y[ee],ue!==0&&(y[ee]+=ue,_[Math.floor(ee/lt)]+=ue),ee++}}}function oe(){F.value!==null&&F.value!==void 0&&F.value.focus()}function he(k,z){const J=1*a.value;(z===!0||Array.isArray(y)===!1)&&(y=[]);const re=y.length;y.length=e.value;for(let ee=e.value-1;ee>=re;ee--)y[ee]=J;const me=Math.floor((e.value-1)/lt);_=[];for(let ee=0;ee<=me;ee++){let K=0;const ue=Math.min((ee+1)*lt,e.value);for(let S=ee*lt;S<ue;S++)K+=y[S];_.push(K)}i=-1,b=void 0,f.value=tl(_,y,0,x.value.from),q.value=tl(_,y,x.value.to,e.value),k>=0?(Z(x.value.from),Le(()=>{L(k)})):ke()}function ve(k){if(k===void 0&&typeof window<"u"){const K=t();K!=null&&K.nodeType!==8&&(k=Tl(K,l(),P.value,D.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}g=k;const z=parseFloat(o.virtualScrollSliceRatioBefore)||0,J=parseFloat(o.virtualScrollSliceRatioAfter)||0,re=1+z+J,me=k===void 0||k<=0?1:Math.ceil(k/a.value),ee=Math.max(1,me,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/re));p.value={total:Math.ceil(ee*re),start:Math.ceil(ee*z),center:Math.ceil(ee*(.5+z)),end:Math.ceil(ee*(1+z)),view:me}}function Se(k,z){const J=o.virtualScrollHorizontal===!0?"width":"height",re={["--q-virtual-scroll-item-"+J]:a.value+"px"};return[k==="tbody"?d(k,{class:"q-virtual-scroll__padding",key:"before",ref:P},[d("tr",[d("td",{style:{[J]:`${f.value}px`,...re},colspan:T.value})])]):d(k,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[J]:`${f.value}px`,...re}}),d(k,{class:"q-virtual-scroll__content",key:"content",ref:F,tabindex:-1},z.flat()),k==="tbody"?d(k,{class:"q-virtual-scroll__padding",key:"after",ref:D},[d("tr",[d("td",{style:{[J]:`${q.value}px`,...re},colspan:T.value})])]):d(k,{class:"q-virtual-scroll__padding",key:"after",ref:D,style:{[J]:`${q.value}px`,...re}})]}function Pe(k){i!==k&&(o.onVirtualScroll!==void 0&&s("virtualScroll",{index:k,from:x.value.from,to:x.value.to-1,direction:k<i?"decrease":"increase",ref:u}),i=k)}ve();const ke=to(Y,c.platform.is.ios===!0?120:35);Ul(()=>{ve()});let Ee=!1;return Ka(()=>{Ee=!0}),Xa(()=>{if(Ee!==!0)return;const k=t();b!==void 0&&k!==void 0&&k!==null&&k.nodeType!==8?xa(k,b,o.virtualScrollHorizontal,c.lang.rtl):L(i)}),Rt(()=>{ke.cancel()}),Object.assign(u,{scrollTo:L,reset:U,refresh:E}),{virtualScrollSliceRange:x,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:ve,onVirtualScrollEvt:ke,localResetVirtualScroll:he,padVirtualScroll:Se,scrollTo:L,reset:U,refresh:E}}const Qo={list:ta,table:No},Wo=["list","table","__qtable"],Ko=_e({name:"QVirtualScroll",props:{...Ol,type:{type:String,default:"list",validator:e=>Wo.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Na},setup(e,{slots:t,attrs:l}){let a;const n=M(null),o=h(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:s,localResetVirtualScroll:u,padVirtualScroll:c,onVirtualScrollEvt:b}=hn({virtualScrollLength:o,getVirtualScrollTarget:f,getVirtualScrollEl:y}),i=h(()=>{if(o.value===0)return[];const D=(F,x)=>({index:s.value.from+x,item:F});return e.itemsFn===void 0?e.items.slice(s.value.from,s.value.to).map(D):e.itemsFn(s.value.from,s.value.to-s.value.from).map(D)}),g=h(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),_=h(()=>e.scrollTarget!==void 0?{}:{tabindex:0});de(o,()=>{u()}),de(()=>e.scrollTarget,()=>{p(),q()});function y(){return n.value.$el||n.value}function f(){return a}function q(){a=Ua(y(),e.scrollTarget),a.addEventListener("scroll",b,il.passive)}function p(){a!==void 0&&(a.removeEventListener("scroll",b,il.passive),a=void 0)}function P(){let D=c(e.type==="list"?"div":"tbody",i.value.map(t.default));return t.before!==void 0&&(D=t.before().concat(D)),xl(t.after,D)}return Ul(()=>{u()}),Vt(()=>{q()}),Xa(()=>{q()}),Ka(()=>{p()}),Rt(()=>{p()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?dn({ref:n,class:"q-table__middle "+g.value},P()):d(Qo[e.type],{...l,ref:n,class:[l.class,g.value],..._.value},P)}}}),Xo=_e({name:"QField",inheritAttrs:!1,props:{...Ql,tag:{type:String,default:"label"}},emits:Za,setup(){return Ga(Ja({tagProp:!0}))}}),Zo={xs:8,sm:10,md:14,lg:20,xl:24},Go=_e({name:"QChip",props:{...st,...Wl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=Fe(),n=ct(e,a),o=Kl(e,Zo),s=h(()=>e.selected===!0||e.icon!==void 0),u=h(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),c=h(()=>e.iconRemove||a.iconSet.chip.remove),b=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),i=h(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),g=h(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:p,remove:P}});function _(p){p.keyCode===13&&y(p)}function y(p){e.disable||(l("update:selected",!e.selected),l("click",p))}function f(p){(p.keyCode===void 0||p.keyCode===13)&&(tt(p),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function q(){const p=[];b.value===!0&&p.push(d("div",{class:"q-focus-helper"})),s.value===!0&&p.push(d(Ie,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const P=e.label!==void 0?[d("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(d("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},en(t.default,P))),e.iconRight&&p.push(d(Ie,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(d(Ie,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...g.value.remove,onClick:f,onKeyup:f})),p}return()=>{if(e.modelValue===!1)return;const p={class:i.value,style:o.value};return b.value===!0&&Object.assign(p,g.value.chip,{onClick:y,onKeyup:_}),lo("div",p,q(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[It,e.ripple]])}}}),al=_e({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=h(()=>parseInt(e.lines,10)),a=h(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),n=h(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>d("div",{style:n.value,class:a.value},We(t.default))}}),ka=["B","KB","MB","GB","TB","PB"];function qa(e,t=1){let l=0;for(;parseInt(e,10)>=1024&&l<ka.length-1;)e/=1024,++l;return`${e.toFixed(t)}${ka[l]}`}function Jo(e){return e.charAt(0).toUpperCase()+e.slice(1)}function er(e,t,l){return l<=t?t:Math.min(l,Math.max(t,e))}function Da(e,t,l){if(l<=t)return t;const a=l-t+1;let n=t+(e-t)%a;return n<t&&(n=a+n),n===0?0:n}function be(e,t=2,l="0"){if(e==null)return e;const a=""+e;return a.length>=t?a:new Array(t-a.length+1).join(l)+a}const Ma=e=>["add","add-unique","toggle"].includes(e),tr=".*+?^${}()|[]\\",lr=Object.keys(Ql),ar=_e({name:"QSelect",inheritAttrs:!1,props:{...Ol,...tn,...Ql,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ma},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ol.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Za,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:a}=Fe(),{$q:n}=a,o=M(!1),s=M(!1),u=M(-1),c=M(""),b=M(!1),i=M(!1);let g=null,_=null,y,f,q,p=null,P,D,F,x;const T=M(null),B=M(null),V=M(null),U=M(null),E=M(null),L=ao(e),Y=ro(j),R=h(()=>Array.isArray(e.options)?e.options.length:0),Z=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:oe,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:ve,padVirtualScroll:Se,onVirtualScrollEvt:Pe,scrollTo:ke,setVirtualScrollSize:Ee}=hn({virtualScrollLength:R,getVirtualScrollTarget:nt,getVirtualScrollEl:$t,virtualScrollItemSizeComputed:Z}),k=Ja(),z=h(()=>{const v=e.mapOptions===!0&&e.multiple!==!0,A=e.modelValue!==void 0&&(e.modelValue!==null||v===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const I=e.mapOptions===!0&&y!==void 0?y:[],ae=A.map(we=>Et(we,I));return e.modelValue===null&&v===!0?ae.filter(we=>we!==null):ae}return A}),J=h(()=>{const v={};return lr.forEach(A=>{const I=e[A];I!==void 0&&(v[A]=I)}),v}),re=h(()=>e.optionsDark===null?k.isDark.value:e.optionsDark),me=h(()=>va(z.value)),ee=h(()=>{let v="q-field__input q-placeholder col";return e.hideSelected===!0||z.value.length===0?[v,e.inputClass]:(v+=" q-field__input--padding",e.inputClass===void 0?v:[v,e.inputClass])}),K=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ue=h(()=>R.value===0),S=h(()=>z.value.map(v=>Re.value(v)).join(", ")),X=h(()=>e.displayValue!==void 0?e.displayValue:S.value),te=h(()=>e.optionsHtml===!0?()=>!0:v=>v!=null&&v.html===!0),se=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||z.value.some(te.value))),ce=h(()=>k.focused.value===!0?e.tabindex:-1),$e=h(()=>{const v={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${k.targetUid.value}_lb`};return u.value>=0&&(v["aria-activedescendant"]=`${k.targetUid.value}_${u.value}`),v}),Ae=h(()=>({id:`${k.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ve=h(()=>z.value.map((v,A)=>({index:A,opt:v,html:te.value(v),selected:!0,removeAtIndex:Qt,toggleOption:je,tabindex:ce.value}))),qe=h(()=>{if(R.value===0)return[];const{from:v,to:A}=oe.value;return e.options.slice(v,A).map((I,ae)=>{const we=Je.value(I)===!0,ye=xt(I)===!0,Be=v+ae,De={clickable:!0,active:ye,activeClass:ft.value,manualFocus:!0,focused:!1,disable:we,tabindex:-1,dense:e.optionsDense,dark:re.value,role:"option","aria-selected":ye===!0?"true":"false",id:`${k.targetUid.value}_${Be}`,onClick:()=>{je(I)}};return we!==!0&&(u.value===Be&&(De.focused=!0),n.platform.is.desktop===!0&&(De.onMousemove=()=>{o.value===!0&&Oe(Be)})),{index:Be,opt:I,html:te.value(I),label:Re.value(I),selected:De.active,focused:De.focused,toggleOption:je,setOptionIndex:Oe,itemProps:De}})}),dt=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),Bt=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ft=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ze=h(()=>Ct(e.optionValue,"value")),Re=h(()=>Ct(e.optionLabel,"label")),Je=h(()=>Ct(e.optionDisable,"disable")),vt=h(()=>z.value.map(v=>ze.value(v))),Ut=h(()=>{const v={onInput:j,onChange:Y,onKeydown:mt,onKeyup:Ke,onKeypress:at,onFocus:Wt,onClick(A){f===!0&&Mt(A)}};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=Y,v});de(z,v=>{y=v,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&k.innerLoading.value!==!0&&(s.value!==!0&&o.value!==!0||me.value!==!0)&&(q!==!0&&Kt(),(s.value===!0||o.value===!0)&&le(""))},{immediate:!0}),de(()=>e.fillInput,Kt),de(o,ql),de(R,En);function wt(v){return e.emitValue===!0?ze.value(v):v}function pt(v){if(v!==-1&&v<z.value.length)if(e.multiple===!0){const A=e.modelValue.slice();l("remove",{index:v,value:A.splice(v,1)[0]}),l("update:modelValue",A)}else l("update:modelValue",null)}function Qt(v){pt(v),k.focus()}function _t(v,A){const I=wt(v);if(e.multiple!==!0){e.fillInput===!0&&G(Re.value(v),!0,!0),l("update:modelValue",I);return}if(z.value.length===0){l("add",{index:0,value:I}),l("update:modelValue",e.multiple===!0?[I]:I);return}if(A===!0&&xt(v)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ae=e.modelValue.slice();l("add",{index:ae.length,value:I}),ae.push(I),l("update:modelValue",ae)}function je(v,A){if(k.editable.value!==!0||v===void 0||Je.value(v)===!0)return;const I=ze.value(v);if(e.multiple!==!0){A!==!0&&(G(e.fillInput===!0?Re.value(v):"",!0,!0),zt()),B.value!==null&&B.value.focus(),(z.value.length===0||Gt(ze.value(z.value[0]),I)!==!0)&&l("update:modelValue",e.emitValue===!0?I:v);return}if((f!==!0||b.value===!0)&&k.focus(),Wt(),z.value.length===0){const ye=e.emitValue===!0?I:v;l("add",{index:0,value:ye}),l("update:modelValue",e.multiple===!0?[ye]:ye);return}const ae=e.modelValue.slice(),we=vt.value.findIndex(ye=>Gt(ye,I));if(we!==-1)l("remove",{index:we,value:ae.splice(we,1)[0]});else{if(e.maxValues!==void 0&&ae.length>=e.maxValues)return;const ye=e.emitValue===!0?I:v;l("add",{index:ae.length,value:ye}),ae.push(ye)}l("update:modelValue",ae)}function Oe(v){if(n.platform.is.desktop!==!0)return;const A=v!==-1&&v<R.value?v:-1;u.value!==A&&(u.value=A)}function Ne(v=1,A){if(o.value===!0){let I=u.value;do I=Da(I+v,-1,R.value-1);while(I!==-1&&I!==u.value&&Je.value(e.options[I])===!0);u.value!==I&&(Oe(I),ke(I),A!==!0&&e.useInput===!0&&e.fillInput===!0&&W(I>=0?Re.value(e.options[I]):P,!0))}}function Et(v,A){const I=ae=>Gt(ze.value(ae),v);return e.options.find(I)||A.find(I)||v}function Ct(v,A){const I=v!==void 0?v:A;return typeof I=="function"?I:ae=>ae!==null&&typeof ae=="object"&&I in ae?ae[I]:ae}function xt(v){const A=ze.value(v);return vt.value.find(I=>Gt(I,A))!==void 0}function Wt(v){e.useInput===!0&&B.value!==null&&(v===void 0||B.value===v.target&&v.target.value===S.value)&&B.value.select()}function Ye(v){kl(v,27)===!0&&o.value===!0&&(Mt(v),zt(),Kt()),l("keyup",v)}function Ke(v){const{value:A}=v.target;if(v.keyCode!==void 0){Ye(v);return}if(v.target.value="",g!==null&&(clearTimeout(g),g=null),_!==null&&(clearTimeout(_),_=null),Kt(),typeof A=="string"&&A.length!==0){const I=A.toLocaleLowerCase(),ae=ye=>{const Be=e.options.find(De=>ye.value(De).toLocaleLowerCase()===I);return Be===void 0?!1:(z.value.indexOf(Be)===-1?je(Be):zt(),!0)},we=ye=>{ae(ze)!==!0&&(ae(Re)===!0||ye===!0||le(A,!0,()=>we(!0)))};we()}else k.clearValue(v)}function at(v){l("keypress",v)}function mt(v){if(l("keydown",v),uo(v)===!0)return;const A=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),I=v.shiftKey!==!0&&e.multiple!==!0&&(u.value!==-1||A===!0);if(v.keyCode===27){nl(v);return}if(v.keyCode===9&&I===!1){fe();return}if(v.target===void 0||v.target.id!==k.targetUid.value||k.editable.value!==!0)return;if(v.keyCode===40&&k.innerLoading.value!==!0&&o.value===!1){tt(v),Xe();return}if(v.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?pt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(v.keyCode===35||v.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(tt(v),u.value=-1,Ne(v.keyCode===36?1:-1,e.multiple)),(v.keyCode===33||v.keyCode===34)&&he.value!==void 0&&(tt(v),u.value=Math.max(-1,Math.min(R.value,u.value+(v.keyCode===33?-1:1)*he.value.view)),Ne(v.keyCode===33?1:-1,e.multiple)),(v.keyCode===38||v.keyCode===40)&&(tt(v),Ne(v.keyCode===38?-1:1,e.multiple));const ae=R.value;if((F===void 0||x<Date.now())&&(F=""),ae>0&&e.useInput!==!0&&v.key!==void 0&&v.key.length===1&&v.altKey===!1&&v.ctrlKey===!1&&v.metaKey===!1&&(v.keyCode!==32||F.length!==0)){o.value!==!0&&Xe(v);const we=v.key.toLocaleLowerCase(),ye=F.length===1&&F[0]===we;x=Date.now()+1500,ye===!1&&(tt(v),F+=we);const Be=new RegExp("^"+F.split("").map(Dl=>tr.indexOf(Dl)!==-1?"\\"+Dl:Dl).join(".*"),"i");let De=u.value;if(ye===!0||De<0||Be.test(Re.value(e.options[De]))!==!0)do De=Da(De+1,-1,ae-1);while(De!==u.value&&(Je.value(e.options[De])===!0||Be.test(Re.value(e.options[De]))!==!0));u.value!==De&&Le(()=>{Oe(De),ke(De),De>=0&&e.useInput===!0&&e.fillInput===!0&&W(Re.value(e.options[De]),!0)});return}if(!(v.keyCode!==13&&(v.keyCode!==32||e.useInput===!0||F!=="")&&(v.keyCode!==9||I===!1))){if(v.keyCode!==9&&tt(v),u.value!==-1&&u.value<ae){je(e.options[u.value]);return}if(A===!0){const we=(ye,Be)=>{if(Be){if(Ma(Be)!==!0)return}else Be=e.newValueMode;if(G("",e.multiple!==!0,!0),ye==null)return;(Be==="toggle"?je:_t)(ye,Be==="add-unique"),e.multiple!==!0&&(B.value!==null&&B.value.focus(),zt())};if(e.onNewValue!==void 0?l("newValue",c.value,we):we(c.value),e.multiple!==!0)return}o.value===!0?fe():k.innerLoading.value!==!0&&Xe()}}function $t(){return f===!0?E.value:V.value!==null&&V.value.contentEl!==null?V.value.contentEl:void 0}function nt(){return $t()}function Ot(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ve.value.map(v=>t["selected-item"](v)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ve.value.map((v,A)=>d(Go,{key:"option-"+A,removable:k.editable.value===!0&&Je.value(v.opt)!==!0,dense:!0,textColor:e.color,tabindex:ce.value,onRemove(){v.removeAtIndex(A)}},()=>d("span",{class:"ellipsis",[v.html===!0?"innerHTML":"textContent"]:Re.value(v.opt)}))):[d("span",{[se.value===!0?"innerHTML":"textContent"]:X.value})]}function kt(){if(ue.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const v=t.option!==void 0?t.option:I=>d(yt,{key:I.index,...I.itemProps},()=>d(He,()=>d(al,()=>d("span",{[I.html===!0?"innerHTML":"textContent"]:I.label}))));let A=Se("div",qe.value.map(v));return t["before-options"]!==void 0&&(A=t["before-options"]().concat(A)),xl(t["after-options"],A)}function C(v,A){const I=A===!0?{...$e.value,...k.splitAttrs.attributes.value}:void 0,ae={ref:A===!0?B:void 0,key:"i_t",class:ee.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...I,id:A===!0?k.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":v===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Ut.value};return v!==!0&&f===!0&&(Array.isArray(ae.class)===!0?ae.class=[...ae.class,"no-pointer-events"]:ae.class+=" no-pointer-events"),d("input",ae)}function j(v){g!==null&&(clearTimeout(g),g=null),_!==null&&(clearTimeout(_),_=null),!(v&&v.target&&v.target.qComposing===!0)&&(W(v.target.value||""),q=!0,P=c.value,k.focused.value!==!0&&(f!==!0||b.value===!0)&&k.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,le(c.value)},e.inputDebounce)))}function W(v,A){c.value!==v&&(c.value=v,A===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",v):_=setTimeout(()=>{_=null,l("inputValue",v)},e.inputDebounce))}function G(v,A,I){q=I!==!0,e.useInput===!0&&(W(v,!0),(A===!0||I!==!0)&&(P=v),A!==!0&&le(v))}function le(v,A,I){if(e.onFilter===void 0||A!==!0&&k.focused.value!==!0)return;k.innerLoading.value===!0?l("filterAbort"):(k.innerLoading.value=!0,i.value=!0),v!==""&&e.multiple!==!0&&z.value.length!==0&&q!==!0&&v===Re.value(z.value[0])&&(v="");const ae=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);p!==null&&clearTimeout(p),p=ae,l("filter",v,(we,ye)=>{(A===!0||k.focused.value===!0)&&p===ae&&(clearTimeout(p),typeof we=="function"&&we(),i.value=!1,Le(()=>{k.innerLoading.value=!1,k.editable.value===!0&&(A===!0?o.value===!0&&zt():o.value===!0?ql(!0):o.value=!0),typeof ye=="function"&&Le(()=>{ye(a)}),typeof I=="function"&&Le(()=>{I(a)})}))},()=>{k.focused.value===!0&&p===ae&&(clearTimeout(p),k.innerLoading.value=!1,i.value=!1),o.value===!0&&(o.value=!1)})}function Ce(){return d(ea,{ref:V,class:K.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ue.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:re.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Bt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ae.value,onScrollPassive:Pe,onBeforeShow:ua,onBeforeHide:r,onShow:m},kt)}function r(v){ia(v),fe()}function m(){Ee()}function w(v){Mt(v),B.value!==null&&B.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function $(v){Mt(v),Le(()=>{b.value=!1})}function O(){const v=[d(Xo,{class:`col-auto ${k.fieldClass.value}`,...J.value,for:k.targetUid.value,dark:re.value,square:!0,loading:i.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...k.splitAttrs.listeners.value,onFocus:w,onBlur:$},{...t,rawControl:()=>k.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&v.push(d("div",{ref:E,class:K.value+" scroll",style:e.popupContentStyle,...Ae.value,onClick:nl,onScrollPassive:Pe},kt())),d(Qa,{ref:U,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:D,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ua,onBeforeHide:ie,onHide:Q,onShow:ne},()=>d("div",{class:"q-select__dialog"+(re.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},v))}function ie(v){ia(v),U.value!==null&&U.value.__updateRefocusTarget(k.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),k.focused.value=!1}function Q(v){zt(),k.focused.value===!1&&l("blur",v),Kt()}function ne(){const v=document.activeElement;(v===null||v.id!==k.targetUid.value)&&B.value!==null&&B.value!==v&&B.value.focus(),Ee()}function fe(){s.value!==!0&&(u.value=-1,o.value===!0&&(o.value=!1),k.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),k.innerLoading.value===!0&&(l("filterAbort"),k.innerLoading.value=!1,i.value=!1)))}function Xe(v){k.editable.value===!0&&(f===!0?(k.onControlFocusin(v),s.value=!0,Le(()=>{k.focus()})):k.focus(),e.onFilter!==void 0?le(c.value):(ue.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function zt(){s.value=!1,fe()}function Kt(){e.useInput===!0&&G(e.multiple!==!0&&e.fillInput===!0&&z.value.length!==0&&Re.value(z.value[0])||"",!0,!0)}function ql(v){let A=-1;if(v===!0){if(z.value.length!==0){const I=ze.value(z.value[0]);A=e.options.findIndex(ae=>Gt(ze.value(ae),I))}ve(A)}Oe(A)}function En(v,A){o.value===!0&&k.innerLoading.value===!1&&(ve(-1,!0),Le(()=>{o.value===!0&&k.innerLoading.value===!1&&(v>A?ve():ql(!0))}))}function ra(){s.value===!1&&V.value!==null&&V.value.updatePosition()}function ua(v){v!==void 0&&Mt(v),l("popupShow",v),k.hasPopupOpen=!0,k.onControlFocusin(v)}function ia(v){v!==void 0&&Mt(v),l("popupHide",v),k.hasPopupOpen=!1,k.onControlFocusout(v)}function sa(){f=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ue.value===!1:!0),D=n.platform.is.ios===!0&&f===!0&&e.useInput===!0?"fade":e.transitionShow}return no(sa),oo(ra),sa(),Rt(()=>{g!==null&&clearTimeout(g),_!==null&&clearTimeout(_)}),Object.assign(a,{showPopup:Xe,hidePopup:zt,removeAtIndex:pt,add:_t,toggleOption:je,getOptionIndex:()=>u.value,setOptionIndex:Oe,moveOptionSelection:Ne,filter:le,updateMenuPosition:ra,updateInputValue:G,isOptionSelected:xt,getEmittingOptionValue:wt,isOptionDisabled:(...v)=>Je.value.apply(null,v)===!0,getOptionValue:(...v)=>ze.value.apply(null,v),getOptionLabel:(...v)=>Re.value.apply(null,v)}),Object.assign(k,{innerValue:z,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:T,targetRef:B,hasValue:me,showPopup:Xe,floatingLabel:h(()=>e.hideSelected!==!0&&me.value===!0||typeof c.value=="number"||c.value.length!==0||va(e.displayValue)),getControlChild:()=>{if(k.editable.value!==!1&&(s.value===!0||ue.value!==!0||t["no-option"]!==void 0))return f===!0?O():Ce();k.hasPopupOpen===!0&&(k.hasPopupOpen=!1)},controlEvents:{onFocusin(v){k.onControlFocusin(v)},onFocusout(v){k.onControlFocusout(v,()=>{Kt(),fe()})},onClick(v){if(nl(v),f!==!0&&o.value===!0){fe(),B.value!==null&&B.value.focus();return}Xe(v)}},getControl:v=>{const A=Ot(),I=v===!0||s.value!==!0||f!==!0;if(e.useInput===!0)A.push(C(v,I));else if(k.editable.value===!0){const we=I===!0?$e.value:void 0;A.push(d("input",{ref:I===!0?B:void 0,key:"d_t",class:"q-select__focus-target",id:I===!0?k.targetUid.value:void 0,value:X.value,readonly:!0,"data-autofocus":v===!0||e.autofocus===!0||void 0,...we,onKeydown:mt,onKeyup:Ye,onKeypress:at})),I===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&A.push(d("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ke}))}if(L.value!==void 0&&e.disable!==!0&&vt.value.length!==0){const we=vt.value.map(ye=>d("option",{value:ye,selected:!0}));A.push(d("select",{class:"hidden",name:L.value,multiple:e.multiple},we))}const ae=e.useInput===!0||I!==!0?void 0:k.splitAttrs.attributes.value;return d("div",{class:"q-field__native row items-center",...ae,...k.splitAttrs.listeners.value},A)},getInnerAppend:()=>e.loading!==!0&&i.value!==!0&&e.hideDropdownIcon!==!0?[d(Ie,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:dt.value})]:null}),Ga(k)}}),nr={xs:2,sm:4,md:6,lg:10,xl:14};function Fa(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const or=_e({name:"QLinearProgress",props:{...st,...Wl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=Fe(),a=ct(e,l.$q),n=Kl(e,nr),o=h(()=>e.indeterminate===!0||e.query===!0),s=h(()=>e.reverse!==e.query),u=h(()=>({...n.value!==null?n.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=h(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),b=h(()=>Fa(e.buffer!==void 0?e.buffer:1,s.value,l.$q)),i=h(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=h(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${i.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),_=h(()=>Fa(o.value===!0?1:e.value,s.value,l.$q)),y=h(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${i.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),f=h(()=>({width:`${e.value*100}%`})),q=h(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${i.value}`);return()=>{const p=[d("div",{class:g.value,style:b.value}),d("div",{class:y.value,style:_.value})];return e.stripe===!0&&o.value===!1&&p.push(d("div",{class:q.value,style:f.value})),d("div",{class:c.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},xl(t.default,p))}}});let ll=0;const rr={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ur=["update:fullscreen","fullscreen"];function ir(){const e=Fe(),{props:t,emit:l,proxy:a}=e;let n,o,s;const u=M(!1);io(e)===!0&&de(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&i()}),de(()=>t.fullscreen,g=>{u.value!==g&&c()}),de(u,g=>{l("update:fullscreen",g),l("fullscreen",g)});function c(){u.value===!0?i():b()}function b(){u.value!==!0&&(u.value=!0,s=a.$el.parentNode,s.replaceChild(o,a.$el),document.body.appendChild(a.$el),ll++,ll===1&&document.body.classList.add("q-body--fullscreen-mixin"),n={handler:i},ma.add(n))}function i(){u.value===!0&&(n!==void 0&&(ma.remove(n),n=void 0),s.replaceChild(a.$el,o),u.value=!1,ll=Math.max(0,ll-1),ll===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Ul(()=>{o=document.createElement("span")}),Vt(()=>{t.fullscreen===!0&&b()}),Rt(i),Object.assign(a,{toggleFullscreen:c,setFullscreen:b,exitFullscreen:i}),{inFullscreen:u,toggleFullscreen:c}}function sr(e,t){return new Date(e)-new Date(t)}const cr={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function dr(e,t,l,a){const n=h(()=>{const{sortBy:u}=t.value;return u&&l.value.find(c=>c.name===u)||null}),o=h(()=>e.sortMethod!==void 0?e.sortMethod:(u,c,b)=>{const i=l.value.find(y=>y.name===c);if(i===void 0||i.field===void 0)return u;const g=b===!0?-1:1,_=typeof i.field=="function"?y=>i.field(y):y=>y[i.field];return u.sort((y,f)=>{let q=_(y),p=_(f);return i.rawSort!==void 0?i.rawSort(q,p,y,f)*g:q==null?-1*g:p==null?1*g:i.sort!==void 0?i.sort(q,p,y,f)*g:El(q)===!0&&El(p)===!0?(q-p)*g:Sl(q)===!0&&Sl(p)===!0?sr(q,p)*g:typeof q=="boolean"&&typeof p=="boolean"?(q-p)*g:([q,p]=[q,p].map(P=>(P+"").toLocaleString().toLowerCase()),q<p?-1*g:q===p?0:g)})});function s(u){let c=e.columnSortOrder;if(Xl(u)===!0)u.sortOrder&&(c=u.sortOrder),u=u.name;else{const g=l.value.find(_=>_.name===u);g!==void 0&&g.sortOrder&&(c=g.sortOrder)}let{sortBy:b,descending:i}=t.value;b!==u?(b=u,i=c==="da"):e.binaryStateSort===!0?i=!i:i===!0?c==="ad"?b=null:i=!1:c==="ad"?i=!0:b=null,a({sortBy:b,descending:i,page:1})}return{columnToSort:n,computedSortMethod:o,sort:s}}const fr={filter:[String,Object],filterMethod:Function};function vr(e,t){const l=h(()=>e.filterMethod!==void 0?e.filterMethod:(a,n,o,s)=>{const u=n?n.toLowerCase():"";return a.filter(c=>o.some(b=>{const i=s(b,c)+"";return(i==="undefined"||i==="null"?"":i.toLowerCase()).indexOf(u)!==-1}))});return de(()=>e.filter,()=>{Le(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function mr(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function Ta(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const hr={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function gr(e,t){const{props:l,emit:a}=e,n=M(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),o=h(()=>{const i=l["onUpdate:pagination"]!==void 0?{...n.value,...l.pagination}:n.value;return Ta(i)}),s=h(()=>o.value.rowsNumber!==void 0);function u(i){c({pagination:i,filter:l.filter})}function c(i={}){Le(()=>{a("request",{pagination:i.pagination||o.value,filter:i.filter||l.filter,getCellValue:t})})}function b(i,g){const _=Ta({...o.value,...i});if(mr(o.value,_)===!0){s.value===!0&&g===!0&&u(_);return}if(s.value===!0){u(_);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?a("update:pagination",_):n.value=_}return{innerPagination:n,computedPagination:o,isServerSide:s,requestServerInteraction:c,setPagination:b}}function yr(e,t,l,a,n,o){const{props:s,emit:u,proxy:{$q:c}}=e,b=h(()=>a.value===!0?l.value.rowsNumber||0:o.value),i=h(()=>{const{page:x,rowsPerPage:T}=l.value;return(x-1)*T}),g=h(()=>{const{page:x,rowsPerPage:T}=l.value;return x*T}),_=h(()=>l.value.page===1),y=h(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/l.value.rowsPerPage))),f=h(()=>g.value===0?!0:l.value.page>=y.value),q=h(()=>(s.rowsPerPageOptions.includes(t.value.rowsPerPage)?s.rowsPerPageOptions:[t.value.rowsPerPage].concat(s.rowsPerPageOptions)).map(T=>({label:T===0?c.lang.table.allRows:""+T,value:T})));de(y,(x,T)=>{if(x===T)return;const B=l.value.page;x&&!B?n({page:1}):x<B&&n({page:x})});function p(){n({page:1})}function P(){const{page:x}=l.value;x>1&&n({page:x-1})}function D(){const{page:x,rowsPerPage:T}=l.value;g.value>0&&x*T<b.value&&n({page:x+1})}function F(){n({page:y.value})}return s["onUpdate:pagination"]!==void 0&&u("update:pagination",{...l.value}),{firstRowIndex:i,lastRowIndex:g,isFirstPage:_,isLastPage:f,pagesNumber:y,computedRowsPerPageOptions:q,computedRowsNumber:b,firstPage:p,prevPage:P,nextPage:D,lastPage:F}}const br={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Sr=["update:selected","selection"];function wr(e,t,l,a){const n=h(()=>{const f={};return e.selected.map(a.value).forEach(q=>{f[q]=!0}),f}),o=h(()=>e.selection!=="none"),s=h(()=>e.selection==="single"),u=h(()=>e.selection==="multiple"),c=h(()=>l.value.length!==0&&l.value.every(f=>n.value[a.value(f)]===!0)),b=h(()=>c.value!==!0&&l.value.some(f=>n.value[a.value(f)]===!0)),i=h(()=>e.selected.length);function g(f){return n.value[f]===!0}function _(){t("update:selected",[])}function y(f,q,p,P){t("selection",{rows:q,added:p,keys:f,evt:P});const D=s.value===!0?p===!0?q:[]:p===!0?e.selected.concat(q):e.selected.filter(F=>f.includes(a.value(F))===!1);t("update:selected",D)}return{hasSelectionMode:o,singleSelection:s,multipleSelection:u,allRowsSelected:c,someRowsSelected:b,rowsSelectedNumber:i,isRowSelected:g,clearSelection:_,updateSelection:y}}function Pa(e){return Array.isArray(e)?e.slice():[]}const pr={expanded:Array},_r=["update:expanded"];function Cr(e,t){const l=M(Pa(e.expanded));de(()=>e.expanded,s=>{l.value=Pa(s)});function a(s){return l.value.includes(s)}function n(s){e.expanded!==void 0?t("update:expanded",s):l.value=s}function o(s,u){const c=l.value.slice(),b=c.indexOf(s);u===!0?b===-1&&(c.push(s),n(c)):b!==-1&&(c.splice(b,1),n(c))}return{isRowExpanded:a,setExpanded:n,updateExpanded:o}}const xr={visibleColumns:Array};function kr(e,t,l){const a=h(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(c=>({name:c,label:c.toUpperCase(),field:c,align:El(u[c])?"right":"left",sortable:!0})):[]}),n=h(()=>{const{sortBy:u,descending:c}=t.value;return(e.visibleColumns!==void 0?a.value.filter(i=>i.required===!0||e.visibleColumns.includes(i.name)===!0):a.value).map(i=>{const g=i.align||"right",_=`text-${g}`;return{...i,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:_+(i.headerClasses!==void 0?" "+i.headerClasses:"")+(i.sortable===!0?" sortable":"")+(i.name===u?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:i.style!==void 0?typeof i.style!="function"?()=>i.style:i.style:()=>null,__tdClass:i.classes!==void 0?typeof i.classes!="function"?()=>_+" "+i.classes:y=>_+" "+i.classes(y):()=>_}})}),o=h(()=>{const u={};return n.value.forEach(c=>{u[c.name]=c}),u}),s=h(()=>e.tableColspan!==void 0?e.tableColspan:n.value.length+(l.value===!0?1:0));return{colList:a,computedCols:n,computedColsMap:o,computedColspan:s}}const fl="q-table__bottom row items-center",gn={};mn.forEach(e=>{gn[e]={}});const qr=_e({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...gn,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...st,...rr,...xr,...fr,...hr,...pr,...br,...cr},emits:["request","virtualScroll",...ur,..._r,...Sr],setup(e,{slots:t,emit:l}){const a=Fe(),{proxy:{$q:n}}=a,o=ct(e,n),{inFullscreen:s,toggleFullscreen:u}=ir(),c=h(()=>typeof e.rowKey=="function"?e.rowKey:C=>C[e.rowKey]),b=M(null),i=M(null),g=h(()=>e.grid!==!0&&e.virtualScroll===!0),_=h(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),y=h(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":_.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(s.value===!0?" fullscreen scroll":"")),f=h(()=>y.value+(e.loading===!0?" q-table--loading":""));de(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+y.value,()=>{g.value===!0&&i.value!==null&&i.value.reset()});const{innerPagination:q,computedPagination:p,isServerSide:P,requestServerInteraction:D,setPagination:F}=gr(a,Oe),{computedFilterMethod:x}=vr(e,F),{isRowExpanded:T,setExpanded:B,updateExpanded:V}=Cr(e,l),U=h(()=>{let C=e.rows;if(P.value===!0||C.length===0)return C;const{sortBy:j,descending:W}=p.value;return e.filter&&(C=x.value(C,e.filter,k.value,Oe)),re.value!==null&&(C=me.value(e.rows===C?C.slice():C,j,W)),C}),E=h(()=>U.value.length),L=h(()=>{let C=U.value;if(P.value===!0)return C;const{rowsPerPage:j}=p.value;return j!==0&&(K.value===0&&e.rows!==C?C.length>ue.value&&(C=C.slice(0,ue.value)):C=C.slice(K.value,ue.value)),C}),{hasSelectionMode:Y,singleSelection:R,multipleSelection:Z,allRowsSelected:oe,someRowsSelected:he,rowsSelectedNumber:ve,isRowSelected:Se,clearSelection:Pe,updateSelection:ke}=wr(e,l,L,c),{colList:Ee,computedCols:k,computedColsMap:z,computedColspan:J}=kr(e,p,Y),{columnToSort:re,computedSortMethod:me,sort:ee}=dr(e,p,Ee,F),{firstRowIndex:K,lastRowIndex:ue,isFirstPage:S,isLastPage:X,pagesNumber:te,computedRowsPerPageOptions:se,computedRowsNumber:ce,firstPage:$e,prevPage:Ae,nextPage:Ve,lastPage:qe}=yr(a,q,p,P,F,E),dt=h(()=>L.value.length===0),Bt=h(()=>{const C={};return mn.forEach(j=>{C[j]=e[j]}),C.virtualScrollItemSize===void 0&&(C.virtualScrollItemSize=e.dense===!0?28:48),C});function ft(){g.value===!0&&i.value.reset()}function ze(){if(e.grid===!0)return kt();const C=e.hideHeader!==!0?xt:null;if(g.value===!0){const W=t["top-row"],G=t["bottom-row"],le={default:Ce=>Ut(Ce.item,t.body,Ce.index)};if(W!==void 0){const Ce=d("tbody",W({cols:k.value}));le.before=C===null?()=>Ce:()=>[C()].concat(Ce)}else C!==null&&(le.before=C);return G!==void 0&&(le.after=()=>d("tbody",G({cols:k.value}))),d(Ko,{ref:i,class:e.tableClass,style:e.tableStyle,...Bt.value,scrollTarget:e.virtualScrollTarget,items:L.value,type:"__qtable",tableColspan:J.value,onVirtualScroll:Je},le)}const j=[wt()];return C!==null&&j.unshift(C()),dn({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},j)}function Re(C,j){if(i.value!==null){i.value.scrollTo(C,j);return}C=parseInt(C,10);const W=b.value.querySelector(`tbody tr:nth-of-type(${C+1})`);if(W!==null){const G=b.value.querySelector(".q-table__middle.scroll"),le=W.offsetTop-e.virtualScrollStickySizeStart,Ce=le<G.scrollTop?"decrease":"increase";G.scrollTop=le,l("virtualScroll",{index:C,from:0,to:q.value.rowsPerPage-1,direction:Ce})}}function Je(C){l("virtualScroll",C)}function vt(){return[d(or,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function Ut(C,j,W){const G=c.value(C),le=Se(G);if(j!==void 0)return j(pt({key:G,row:C,pageIndex:W,__trClass:le?"selected":""}));const Ce=t["body-cell"],r=k.value.map(w=>{const $=t[`body-cell-${w.name}`],O=$!==void 0?$:Ce;return O!==void 0?O(Qt({key:G,row:C,pageIndex:W,col:w})):d("td",{class:w.__tdClass(C),style:w.__tdStyle(C)},Oe(w,C))});if(Y.value===!0){const w=t["body-selection"],$=w!==void 0?w(_t({key:G,row:C,pageIndex:W})):[d(Ml,{modelValue:le,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(O,ie)=>{ke([G],[C],O,ie)}})];r.unshift(d("td",{class:"q-table--col-auto-width"},$))}const m={key:G,class:{selected:le}};return e.onRowClick!==void 0&&(m.class["cursor-pointer"]=!0,m.onClick=w=>{l("rowClick",w,C,W)}),e.onRowDblclick!==void 0&&(m.class["cursor-pointer"]=!0,m.onDblclick=w=>{l("rowDblclick",w,C,W)}),e.onRowContextmenu!==void 0&&(m.class["cursor-pointer"]=!0,m.onContextmenu=w=>{l("rowContextmenu",w,C,W)}),d("tr",m,r)}function wt(){const C=t.body,j=t["top-row"],W=t["bottom-row"];let G=L.value.map((le,Ce)=>Ut(le,C,Ce));return j!==void 0&&(G=j({cols:k.value}).concat(G)),W!==void 0&&(G=G.concat(W({cols:k.value}))),d("tbody",G)}function pt(C){return je(C),C.cols=C.cols.map(j=>Tt({...j},"value",()=>Oe(j,C.row))),C}function Qt(C){return je(C),Tt(C,"value",()=>Oe(C.col,C.row)),C}function _t(C){return je(C),C}function je(C){Object.assign(C,{cols:k.value,colsMap:z.value,sort:ee,rowIndex:K.value+C.pageIndex,color:e.color,dark:o.value,dense:e.dense}),Y.value===!0&&Tt(C,"selected",()=>Se(C.key),(j,W)=>{ke([C.key],[C.row],j,W)}),Tt(C,"expand",()=>T(C.key),j=>{V(C.key,j)})}function Oe(C,j){const W=typeof C.field=="function"?C.field(j):j[C.field];return C.format!==void 0?C.format(W,j):W}const Ne=h(()=>({pagination:p.value,pagesNumber:te.value,isFirstPage:S.value,isLastPage:X.value,firstPage:$e,prevPage:Ae,nextPage:Ve,lastPage:qe,inFullscreen:s.value,toggleFullscreen:u}));function Et(){const C=t.top,j=t["top-left"],W=t["top-right"],G=t["top-selection"],le=Y.value===!0&&G!==void 0&&ve.value>0,Ce="q-table__top relative-position row items-center";if(C!==void 0)return d("div",{class:Ce},[C(Ne.value)]);let r;if(le===!0?r=G(Ne.value).slice():(r=[],j!==void 0?r.push(d("div",{class:"q-table__control"},[j(Ne.value)])):e.title&&r.push(d("div",{class:"q-table__control"},[d("div",{class:["q-table__title",e.titleClass]},e.title)]))),W!==void 0&&(r.push(d("div",{class:"q-table__separator col"})),r.push(d("div",{class:"q-table__control"},[W(Ne.value)]))),r.length!==0)return d("div",{class:Ce},r)}const Ct=h(()=>he.value===!0?null:oe.value);function xt(){const C=Wt();return e.loading===!0&&t.loading===void 0&&C.push(d("tr",{class:"q-table__progress"},[d("th",{class:"relative-position",colspan:J.value},vt())])),d("thead",C)}function Wt(){const C=t.header,j=t["header-cell"];if(C!==void 0)return C(Ye({header:!0})).slice();const W=k.value.map(G=>{const le=t[`header-cell-${G.name}`],Ce=le!==void 0?le:j,r=Ye({col:G});return Ce!==void 0?Ce(r):d(Ao,{key:G.name,props:r},()=>G.label)});if(R.value===!0&&e.grid!==!0)W.unshift(d("th",{class:"q-table--col-auto-width"}," "));else if(Z.value===!0){const G=t["header-selection"],le=G!==void 0?G(Ye({})):[d(Ml,{color:e.color,modelValue:Ct.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":Ke})];W.unshift(d("th",{class:"q-table--col-auto-width"},le))}return[d("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},W)]}function Ye(C){return Object.assign(C,{cols:k.value,sort:ee,colsMap:z.value,color:e.color,dark:o.value,dense:e.dense}),Z.value===!0&&Tt(C,"selected",()=>Ct.value,Ke),C}function Ke(C){he.value===!0&&(C=!1),ke(L.value.map(c.value),L.value,C)}const at=h(()=>{const C=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return n.lang.rtl===!0?C.reverse():C});function mt(){if(e.hideBottom===!0)return;if(dt.value===!0){if(e.hideNoData===!0)return;const W=e.loading===!0?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,G=t["no-data"],le=G!==void 0?[G({message:W,icon:n.iconSet.table.warning,filter:e.filter})]:[d(Ie,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),W];return d("div",{class:fl+" q-table__bottom--nodata"},le)}const C=t.bottom;if(C!==void 0)return d("div",{class:fl},[C(Ne.value)]);const j=e.hideSelectedBanner!==!0&&Y.value===!0&&ve.value>0?[d("div",{class:"q-table__control"},[d("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(ve.value)])])]:[];if(e.hidePagination!==!0)return d("div",{class:fl+" justify-end"},nt(j));if(j.length!==0)return d("div",{class:fl},j)}function $t(C){F({page:1,rowsPerPage:C.value})}function nt(C){let j;const{rowsPerPage:W}=p.value,G=e.paginationLabel||n.lang.table.pagination,le=t.pagination,Ce=e.rowsPerPageOptions.length>1;if(C.push(d("div",{class:"q-table__separator col"})),Ce===!0&&C.push(d("div",{class:"q-table__control"},[d("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),d(ar,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:W,options:se.value,displayValue:W===0?n.lang.table.allRows:W,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":$t})])),le!==void 0)j=le(Ne.value);else if(j=[d("span",W!==0?{class:"q-table__bottom-item"}:{},[W?G(K.value+1,Math.min(ue.value,ce.value),ce.value):G(1,E.value,ce.value)])],W!==0&&te.value>1){const r={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(r.size="sm"),te.value>2&&j.push(d(ge,{key:"pgFirst",...r,icon:at.value[0],disable:S.value,onClick:$e})),j.push(d(ge,{key:"pgPrev",...r,icon:at.value[1],disable:S.value,onClick:Ae}),d(ge,{key:"pgNext",...r,icon:at.value[2],disable:X.value,onClick:Ve})),te.value>2&&j.push(d(ge,{key:"pgLast",...r,icon:at.value[3],disable:X.value,onClick:qe}))}return C.push(d("div",{class:"q-table__control"},j)),C}function Ot(){const C=e.gridHeader===!0?[d("table",{class:"q-table"},[xt()])]:e.loading===!0&&t.loading===void 0?vt():void 0;return d("div",{class:"q-table__middle"},C)}function kt(){const C=t.item!==void 0?t.item:j=>{const W=j.cols.map(le=>d("div",{class:"q-table__grid-item-row"},[d("div",{class:"q-table__grid-item-title"},[le.label]),d("div",{class:"q-table__grid-item-value"},[le.value])]));if(Y.value===!0){const le=t["body-selection"],Ce=le!==void 0?le(j):[d(Ml,{modelValue:j.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(r,m)=>{ke([j.key],[j.row],r,m)}})];W.unshift(d("div",{class:"q-table__grid-item-row"},Ce),d(Zl,{dark:o.value}))}const G={class:["q-table__grid-item-card"+_.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(G.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(G.onClick=le=>{l("RowClick",le,j.row,j.pageIndex)}),e.onRowDblclick!==void 0&&(G.onDblclick=le=>{l("RowDblclick",le,j.row,j.pageIndex)})),d("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(j.selected===!0?" q-table__grid-item--selected":"")},[d("div",G,W)])};return d("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},L.value.map((j,W)=>C(pt({key:c.value(j),row:j,pageIndex:W}))))}return Object.assign(a.proxy,{requestServerInteraction:D,setPagination:F,firstPage:$e,prevPage:Ae,nextPage:Ve,lastPage:qe,isRowSelected:Se,clearSelection:Pe,isRowExpanded:T,setExpanded:B,sort:ee,resetVirtualScroll:ft,scrollTo:Re,getCellValue:Oe}),ln(a.proxy,{filteredSortedRows:()=>U.value,computedRows:()=>L.value,computedRowsNumber:()=>ce.value}),()=>{const C=[Et()],j={ref:b,class:f.value};return e.grid===!0?C.push(Ot()):Object.assign(j,{class:[j.class,e.cardClass],style:e.cardStyle}),C.push(ze(),mt()),e.loading===!0&&t.loading!==void 0&&C.push(t.loading()),d("div",j,C)}}}),Pt=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Dr(e,t,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Pr(la(e,t,l))}function Va(e,t,l){return bn(Tr(e,t,l))}function Mr(e){return Fr(e)===0}function yl(e,t){return t<=6?31:t<=11||Mr(e)?30:29}function Fr(e){const t=Pt.length;let l=Pt[0],a,n,o,s,u;if(e<l||e>=Pt[t-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<t&&(a=Pt[u],n=a-l,!(e<a));u+=1)l=a;return s=e-l,n-s<6&&(s=s-n+xe(n+4,33)*33),o=Ue(Ue(s+1,33)-1,4),o===-1&&(o=4),o}function yn(e,t){const l=Pt.length,a=e+621;let n=-14,o=Pt[0],s,u,c,b,i;if(e<o||e>=Pt[l-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<l&&(s=Pt[i],u=s-o,!(e<s));i+=1)n=n+xe(u,33)*8+xe(Ue(u,33),4),o=s;b=e-o,n=n+xe(b,33)*8+xe(Ue(b,33)+3,4),Ue(u,33)===4&&u-b===4&&(n+=1);const g=xe(a,4)-xe((xe(a,100)+1)*3,4)-150,_=20+n-g;return t||(u-b<6&&(b=b-u+xe(u+4,33)*33),c=Ue(Ue(b+1,33)-1,4),c===-1&&(c=4)),{leap:c,gy:a,march:_}}function Tr(e,t,l){const a=yn(e,!0);return la(a.gy,3,a.march)+(t-1)*31-xe(t,7)*(t-7)+l-1}function Pr(e){const t=bn(e).gy;let l=t-621,a,n,o;const s=yn(l,!1),u=la(t,3,s.march);if(o=e-u,o>=0){if(o<=185)return n=1+xe(o,31),a=Ue(o,31)+1,{jy:l,jm:n,jd:a};o-=186}else l-=1,o+=179,s.leap===1&&(o+=1);return n=7+xe(o,30),a=Ue(o,30)+1,{jy:l,jm:n,jd:a}}function la(e,t,l){let a=xe((e+xe(t-8,6)+100100)*1461,4)+xe(153*Ue(t+9,12)+2,5)+l-34840408;return a=a-xe(xe(e+100100+xe(t-8,6),100)*3,4)+752,a}function bn(e){let t=4*e+139361631;t=t+xe(xe(4*e+183187720,146097)*3,4)*4-3908;const l=xe(Ue(t,1461),4)*5+308,a=xe(Ue(l,153),5)+1,n=Ue(xe(l,153),12)+1;return{gy:xe(t,1461)-100100+xe(8-n,6),gm:n,gd:a}}function xe(e,t){return~~(e/t)}function Ue(e,t){return e-~~(e/t)*t}const Sn=864e5,Vr=36e5,zl=6e4,wn="YYYY-MM-DDTHH:mm:ss.SSSZ",Rr=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Br=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Pl={};function Er(e,t){const l="("+t.days.join("|")+")",a=e+l;if(Pl[a]!==void 0)return Pl[a];const n="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",s="("+t.monthsShort.join("|")+")",u={};let c=0;const b=e.replace(Br,g=>{switch(c++,g){case"YY":return u.YY=c,"(-?\\d{1,2})";case"YYYY":return u.YYYY=c,"(-?\\d{1,4})";case"M":return u.M=c,"(\\d{1,2})";case"MM":return u.M=c,"(\\d{2})";case"MMM":return u.MMM=c,s;case"MMMM":return u.MMMM=c,o;case"D":return u.D=c,"(\\d{1,2})";case"Do":return u.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=c,"(\\d{2})";case"H":return u.H=c,"(\\d{1,2})";case"HH":return u.H=c,"(\\d{2})";case"h":return u.h=c,"(\\d{1,2})";case"hh":return u.h=c,"(\\d{2})";case"m":return u.m=c,"(\\d{1,2})";case"mm":return u.m=c,"(\\d{2})";case"s":return u.s=c,"(\\d{1,2})";case"ss":return u.s=c,"(\\d{2})";case"S":return u.S=c,"(\\d{1})";case"SS":return u.S=c,"(\\d{2})";case"SSS":return u.S=c,"(\\d{3})";case"A":return u.A=c,"(AM|PM)";case"a":return u.a=c,"(am|pm)";case"aa":return u.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=c,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=c,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=c,"(-?\\d+)";case"x":return u.x=c,"(-?\\d{4,})";default:return c--,g[0]==="["&&(g=g.substring(1,g.length-1)),g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),i={map:u,regex:new RegExp("^"+b)};return Pl[a]=i,i}function pn(e,t){return e!==void 0?e:t!==void 0?t.date:so.date}function Ra(e,t=""){const l=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),o=a%60;return l+be(n)+t+be(o)}function $r(e,t,l){let a=e.getFullYear(),n=e.getMonth();const o=e.getDate();return t.year!==void 0&&(a+=l*t.year,delete t.year),t.month!==void 0&&(n+=l*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(a),e.setMonth(n),e.setDate(Math.min(o,oa(e))),t.date!==void 0&&(e.setDate(e.getDate()+l*t.date),delete t.date),e}function Or(e,t,l){const a=t.year!==void 0?t.year:e[`get${l}FullYear`](),n=t.month!==void 0?t.month-1:e[`get${l}Month`](),o=new Date(a,n+1,0).getDate(),s=Math.min(o,t.date!==void 0?t.date:e[`get${l}Date`]());return e[`set${l}Date`](1),e[`set${l}Month`](2),e[`set${l}FullYear`](a),e[`set${l}Month`](n),e[`set${l}Date`](s),delete t.year,delete t.month,delete t.date,e}function aa(e,t,l){const a=_n(t),n=new Date(e),o=a.year!==void 0||a.month!==void 0||a.date!==void 0?$r(n,a,l):n;for(const s in a){const u=Jo(s);o[`set${u}`](o[`get${u}`]()+l*a[s])}return o}function _n(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function Cn(e,t,l){const a=_n(t),n=l===!0?"UTC":"",o=new Date(e),s=a.year!==void 0||a.month!==void 0||a.date!==void 0?Or(o,a,n):o;for(const u in a){const c=u.charAt(0).toUpperCase()+u.slice(1);s[`set${n}${c}`](a[u])}return s}function zr(e,t,l){const a=xn(e,t,l),n=new Date(a.year,a.month===null?null:a.month-1,a.day===null?1:a.day,a.hour,a.minute,a.second,a.millisecond),o=n.getTimezoneOffset();return a.timezoneOffset===null||a.timezoneOffset===o?n:aa(n,{minutes:a.timezoneOffset-o},1)}function xn(e,t,l,a,n){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(o,n),e==null||e===""||typeof e!="string")return o;t===void 0&&(t=wn);const s=pn(l,an.props),u=s.months,c=s.monthsShort,{regex:b,map:i}=Er(t,s),g=e.match(b);if(g===null)return o;let _="";if(i.X!==void 0||i.x!==void 0){const y=parseInt(g[i.X!==void 0?i.X:i.x],10);if(isNaN(y)===!0||y<0)return o;const f=new Date(y*(i.X!==void 0?1e3:1));o.year=f.getFullYear(),o.month=f.getMonth()+1,o.day=f.getDate(),o.hour=f.getHours(),o.minute=f.getMinutes(),o.second=f.getSeconds(),o.millisecond=f.getMilliseconds()}else{if(i.YYYY!==void 0)o.year=parseInt(g[i.YYYY],10);else if(i.YY!==void 0){const y=parseInt(g[i.YY],10);o.year=y<0?y:2e3+y}if(i.M!==void 0){if(o.month=parseInt(g[i.M],10),o.month<1||o.month>12)return o}else i.MMM!==void 0?o.month=c.indexOf(g[i.MMM])+1:i.MMMM!==void 0&&(o.month=u.indexOf(g[i.MMMM])+1);if(i.D!==void 0){if(o.day=parseInt(g[i.D],10),o.year===null||o.month===null||o.day<1)return o;const y=a!=="persian"?new Date(o.year,o.month,0).getDate():yl(o.year,o.month);if(o.day>y)return o}i.H!==void 0?o.hour=parseInt(g[i.H],10)%24:i.h!==void 0&&(o.hour=parseInt(g[i.h],10)%12,(i.A&&g[i.A]==="PM"||i.a&&g[i.a]==="pm"||i.aa&&g[i.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),i.m!==void 0&&(o.minute=parseInt(g[i.m],10)%60),i.s!==void 0&&(o.second=parseInt(g[i.s],10)%60),i.S!==void 0&&(o.millisecond=parseInt(g[i.S],10)*10**(3-g[i.S].length)),(i.Z!==void 0||i.ZZ!==void 0)&&(_=i.Z!==void 0?g[i.Z].replace(":",""):g[i.ZZ],o.timezoneOffset=(_[0]==="+"?-1:1)*(60*_.slice(1,3)+1*_.slice(3,5)))}return o.dateHash=be(o.year,6)+"/"+be(o.month)+"/"+be(o.day),o.timeHash=be(o.hour)+":"+be(o.minute)+":"+be(o.second)+_,o}function Hr(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function Lr(e,t){return Cn(new Date,e,t)}function Ir(e){const t=new Date(e).getDay();return t===0?7:t}function Hl(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const l=new Date(t.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const a=t.getTimezoneOffset()-l.getTimezoneOffset();t.setHours(t.getHours()-a);const n=(t-l)/(Sn*7);return 1+Math.floor(n)}function Ar(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Vl(e,t){const l=new Date(e);return t===!0?Ar(l):l.getTime()}function jr(e,t,l,a={}){const n=Vl(t,a.onlyDate),o=Vl(l,a.onlyDate),s=Vl(e,a.onlyDate);return(s>n||a.inclusiveFrom===!0&&s===n)&&(s<o||a.inclusiveTo===!0&&s===o)}function Nr(e,t){return aa(e,t,1)}function Yr(e,t){return aa(e,t,-1)}function ot(e,t,l){const a=new Date(e),n=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":a[`${n}Month`](0);case"month":case"months":a[`${n}Date`](1);case"day":case"days":case"date":a[`${n}Hours`](0);case"hour":case"hours":a[`${n}Minutes`](0);case"minute":case"minutes":a[`${n}Seconds`](0);case"second":case"seconds":a[`${n}Milliseconds`](0)}return a}function Ur(e,t,l){const a=new Date(e),n=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":a[`${n}Month`](11);case"month":case"months":a[`${n}Date`](oa(a));case"day":case"days":case"date":a[`${n}Hours`](23);case"hour":case"hours":a[`${n}Minutes`](59);case"minute":case"minutes":a[`${n}Seconds`](59);case"second":case"seconds":a[`${n}Milliseconds`](999)}return a}function Qr(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(l=>{t=Math.max(t,new Date(l))}),t}function Wr(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(l=>{t=Math.min(t,new Date(l))}),t}function vl(e,t,l){return(e.getTime()-e.getTimezoneOffset()*zl-(t.getTime()-t.getTimezoneOffset()*zl))/l}function na(e,t,l="days"){const a=new Date(e),n=new Date(t);switch(l){case"years":case"year":return a.getFullYear()-n.getFullYear();case"months":case"month":return(a.getFullYear()-n.getFullYear())*12+a.getMonth()-n.getMonth();case"days":case"day":case"date":return vl(ot(a,"day"),ot(n,"day"),Sn);case"hours":case"hour":return vl(ot(a,"hour"),ot(n,"hour"),Vr);case"minutes":case"minute":return vl(ot(a,"minute"),ot(n,"minute"),zl);case"seconds":case"second":return vl(ot(a,"second"),ot(n,"second"),1e3)}}function Ll(e){return na(e,ot(e,"year"),"days")+1}function Kr(e){return Sl(e)===!0?"date":typeof e=="number"?"number":"string"}function Xr(e,t,l){const a=new Date(e);if(t){const n=new Date(t);if(a<n)return n}if(l){const n=new Date(l);if(a>n)return n}return a}function Zr(e,t,l){const a=new Date(e),n=new Date(t);if(l===void 0)return a.getTime()===n.getTime();switch(l){case"second":case"seconds":if(a.getSeconds()!==n.getSeconds())return!1;case"minute":case"minutes":if(a.getMinutes()!==n.getMinutes())return!1;case"hour":case"hours":if(a.getHours()!==n.getHours())return!1;case"day":case"days":case"date":if(a.getDate()!==n.getDate())return!1;case"month":case"months":if(a.getMonth()!==n.getMonth())return!1;case"year":case"years":if(a.getFullYear()!==n.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${l}`)}return!0}function oa(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Ba(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ea={YY(e,t,l){const a=this.YYYY(e,t,l)%100;return a>=0?be(a):"-"+be(Math.abs(a))},YYYY(e,t,l){return l??e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return be(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Ba(this.Q(e))},D(e){return e.getDate()},Do(e){return Ba(e.getDate())},DD(e){return be(e.getDate())},DDD(e){return Ll(e)},DDDD(e){return be(Ll(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Hl(e)},ww(e){return be(Hl(e))},H(e){return e.getHours()},HH(e){return be(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return be(this.h(e))},m(e){return e.getMinutes()},mm(e){return be(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return be(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return be(Math.floor(e.getMilliseconds()/10))},SSS(e){return be(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,l,a){const n=a??e.getTimezoneOffset();return Ra(n,":")},ZZ(e,t,l,a){const n=a??e.getTimezoneOffset();return Ra(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function kn(e,t,l,a,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;t===void 0&&(t=wn);const s=pn(l,an.props);return t.replace(Rr,(u,c)=>u in Ea?Ea[u](o,s,a,n):c===void 0?u:c.split("\\]").join("]"))}function Gr(e){return Sl(e)===!0?new Date(e.getTime()):e}const qn={isValid:Hr,extractDate:zr,buildDate:Lr,getDayOfWeek:Ir,getWeekOfYear:Hl,isBetweenDates:jr,addToDate:Nr,subtractFromDate:Yr,adjustDate:Cn,startOfDate:ot,endOfDate:Ur,getMaxDate:Qr,getMinDate:Wr,getDateDiff:na,getDayOfYear:Ll,inferDateFormat:Kr,getDateBetween:Xr,isSameDate:Zr,daysInMonth:oa,formatDate:kn,clone:Gr};function ul(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const l=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const a=e.valueOf();if(Object(a)!==a){const n=new e.constructor(a);return t.set(e,n),n}}return t.set(e,l),e instanceof Set?e.forEach(a=>{l.add(ul(a,t))}):e instanceof Map&&e.forEach((a,n)=>{l.set(n,ul(a,t))}),Object.assign(l,...Object.keys(e).map(a=>({[a]:ul(e[a],t)})))}const Jr=_e({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:l}){const{proxy:a}=Fe(),{$q:n}=a,o=M(null),s=M(""),u=M("");let c=!1;const b=h(()=>Tt({initialValue:s.value,validate:e.validate,set:i,cancel:g,updatePosition:_},"value",()=>u.value,x=>{u.value=x}));function i(){e.validate(u.value)!==!1&&(y()===!0&&(l("save",u.value,s.value),l("update:modelValue",u.value)),f())}function g(){y()===!0&&l("cancel",u.value,s.value),f()}function _(){Le(()=>{o.value.updatePosition()})}function y(){return Gt(u.value,s.value)===!1}function f(){c=!0,o.value.hide()}function q(){c=!1,s.value=ul(e.modelValue),u.value=ul(e.modelValue),l("beforeShow")}function p(){l("show")}function P(){c===!1&&y()===!0&&(e.autoSave===!0&&e.validate(u.value)===!0?(l("save",u.value,s.value),l("update:modelValue",u.value)):l("cancel",u.value,s.value)),l("beforeHide")}function D(){l("hide")}function F(){const x=t.default!==void 0?[].concat(t.default(b.value)):[];return e.title&&x.unshift(d("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&x.push(d("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[d(ge,{flat:!0,color:e.color,label:e.labelCancel||n.lang.label.cancel,onClick:g}),d(ge,{flat:!0,color:e.color,label:e.labelSet||n.lang.label.set,onClick:i})])),x}return Object.assign(a,{set:i,cancel:g,show(x){o.value!==null&&o.value.show(x)},hide(x){o.value!==null&&o.value.hide(x)},updatePosition:_}),()=>{if(e.disable!==!0)return d(ea,{ref:o,class:"q-popup-edit",cover:e.cover,onBeforeShow:q,onShow:p,onBeforeHide:P,onHide:D,onEscapeKey:g},F)}}}),cl=()=>{const e=M();return co(()=>{if(e.value!==void 0)throw e.value instanceof Error?e.value:new Error(String(e.value))}),t=>{t.catch(l=>{console.log("Caught error: ",l),e.value=l})}};function eu(){let e=Object.create(null);return{getCache:(t,l)=>e[t]===void 0?e[t]=typeof l=="function"?l():l:e[t],setCache(t,l){e[t]=l},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const tu=["gregorian","persian"],$a={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>tu.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},lu=["update:modelValue"];function qt(e){return e.year+"/"+be(e.month)+"/"+be(e.day)}function au(e,t){const l=h(()=>e.disable!==!0&&e.readonly!==!0),a=h(()=>l.value===!0?0:-1),n=h(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function o(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function s(u){const c=new Date,b=u===!0?null:0;if(e.calendar==="persian"){const i=Dr(c);return{year:i.jy,month:i.jm,day:i.jd}}return{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate(),hour:b,minute:b,second:b,millisecond:b}}return{editable:l,tabindex:a,headerClass:n,getLocale:o,getCurrentDate:s}}const Ht=20,nu=["Calendar","Years","Months"],Oa=e=>nu.includes(e),Rl=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Xt=" — ";function Dt(e){return e.year+"/"+be(e.month)}const ou=_e({name:"QDate",props:{...$a,...tn,...st,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...$a.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Rl},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Rl},navigationMaxYearMonth:{type:String,validator:Rl},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Oa}},emits:[...lu,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:l}){const{proxy:a}=Fe(),{$q:n}=a,o=ct(e,n),{getCache:s}=eu(),{tabindex:u,headerClass:c,getLocale:b,getCurrentDate:i}=au(e,n);let g;const _=fo(e),y=vo(_),f=M(null),q=M(Qt()),p=M(b()),P=h(()=>Qt()),D=h(()=>b()),F=h(()=>i()),x=M(je(q.value,p.value)),T=M(e.defaultView),B=h(()=>n.lang.rtl===!0?"right":"left"),V=M(B.value),U=M(B.value),E=x.value.year,L=M(E-E%Ht-(E<0?Ht:0)),Y=M(null),R=h(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),Z=h(()=>e.color||"primary"),oe=h(()=>e.textColor||"white"),he=h(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ve=h(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Se=h(()=>ve.value.filter(r=>typeof r=="string").map(r=>_t(r,q.value,p.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),Pe=h(()=>{const r=m=>_t(m,q.value,p.value);return ve.value.filter(m=>Xl(m)===!0&&m.from!==void 0&&m.to!==void 0).map(m=>({from:r(m.from),to:r(m.to)})).filter(m=>m.from.dateHash!==null&&m.to.dateHash!==null&&m.from.dateHash<m.to.dateHash)}),ke=h(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const m=Va(r.year,r.month,r.day);return new Date(m.gy,m.gm-1,m.gd)}),Ee=h(()=>e.calendar==="persian"?qt:(r,m,w)=>kn(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),m===void 0?q.value:m,w===void 0?p.value:w,r.year,r.timezoneOffset)),k=h(()=>Se.value.length+Pe.value.reduce((r,m)=>r+1+na(ke.value(m.to),ke.value(m.from)),0)),z=h(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(Y.value!==null){const w=Y.value.init,$=ke.value(w);return p.value.daysShort[$.getDay()]+", "+p.value.monthsShort[w.month-1]+" "+w.day+Xt+"?"}if(k.value===0)return Xt;if(k.value>1)return`${k.value} ${p.value.pluralDay}`;const r=Se.value[0],m=ke.value(r);return isNaN(m.valueOf())===!0?Xt:p.value.headerTitle!==void 0?p.value.headerTitle(m,r):p.value.daysShort[m.getDay()]+", "+p.value.monthsShort[r.month-1]+" "+r.day}),J=h(()=>Se.value.concat(Pe.value.map(m=>m.from)).sort((m,w)=>m.year-w.year||m.month-w.month)[0]),re=h(()=>Se.value.concat(Pe.value.map(m=>m.to)).sort((m,w)=>w.year-m.year||w.month-m.month)[0]),me=h(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(k.value===0)return Xt;if(k.value>1){const r=J.value,m=re.value,w=p.value.monthsShort;return w[r.month-1]+(r.year!==m.year?" "+r.year+Xt+w[m.month-1]+" ":r.month!==m.month?Xt+w[m.month-1]:"")+" "+m.year}return Se.value[0].year}),ee=h(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),K=h(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):p.value.firstDayOfWeek),ue=h(()=>{const r=p.value.daysShort,m=K.value;return m>0?r.slice(m,7).concat(r.slice(0,m)):r}),S=h(()=>{const r=x.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():yl(r.year,r.month)}),X=h(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),te=h(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),se=h(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),ce=h(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return te.value!==null&&te.value.year>=x.value.year&&(r.year.prev=!1,te.value.year===x.value.year&&te.value.month>=x.value.month&&(r.month.prev=!1)),se.value!==null&&se.value.year<=x.value.year&&(r.year.next=!1,se.value.year===x.value.year&&se.value.month<=x.value.month&&(r.month.next=!1)),r}),$e=h(()=>{const r={};return Se.value.forEach(m=>{const w=Dt(m);r[w]===void 0&&(r[w]=[]),r[w].push(m.day)}),r}),Ae=h(()=>{const r={};return Pe.value.forEach(m=>{const w=Dt(m.from),$=Dt(m.to);if(r[w]===void 0&&(r[w]=[]),r[w].push({from:m.from.day,to:w===$?m.to.day:void 0,range:m}),w<$){let O;const{year:ie,month:Q}=m.from,ne=Q<12?{year:ie,month:Q+1}:{year:ie+1,month:1};for(;(O=Dt(ne))<=$;)r[O]===void 0&&(r[O]=[]),r[O].push({from:void 0,to:O===$?m.to.day:void 0,range:m}),ne.month++,ne.month>12&&(ne.year++,ne.month=1)}}),r}),Ve=h(()=>{if(Y.value===null)return;const{init:r,initHash:m,final:w,finalHash:$}=Y.value,[O,ie]=m<=$?[r,w]:[w,r],Q=Dt(O),ne=Dt(ie);if(Q!==qe.value&&ne!==qe.value)return;const fe={};return Q===qe.value?(fe.from=O.day,fe.includeFrom=!0):fe.from=1,ne===qe.value?(fe.to=ie.day,fe.includeTo=!0):fe.to=S.value,fe}),qe=h(()=>Dt(x.value)),dt=h(()=>{const r={};if(e.options===void 0){for(let w=1;w<=S.value;w++)r[w]=!0;return r}const m=typeof e.options=="function"?e.options:w=>e.options.includes(w);for(let w=1;w<=S.value;w++){const $=qe.value+"/"+be(w);r[w]=m($)}return r}),Bt=h(()=>{const r={};if(e.events===void 0)for(let m=1;m<=S.value;m++)r[m]=!1;else{const m=typeof e.events=="function"?e.events:w=>e.events.includes(w);for(let w=1;w<=S.value;w++){const $=qe.value+"/"+be(w);r[w]=m($)===!0&&X.value($)}}return r}),ft=h(()=>{let r,m;const{year:w,month:$}=x.value;if(e.calendar!=="persian")r=new Date(w,$-1,1),m=new Date(w,$-1,0).getDate();else{const O=Va(w,$,1);r=new Date(O.gy,O.gm-1,O.gd);let ie=$-1,Q=w;ie===0&&(ie=12,Q--),m=yl(Q,ie)}return{days:r.getDay()-K.value-1,endDay:m}}),ze=h(()=>{const r=[],{days:m,endDay:w}=ft.value,$=m<0?m+7:m;if($<6)for(let Q=w-$;Q<=w;Q++)r.push({i:Q,fill:!0});const O=r.length;for(let Q=1;Q<=S.value;Q++){const ne={i:Q,event:Bt.value[Q],classes:[]};dt.value[Q]===!0&&(ne.in=!0,ne.flat=!0),r.push(ne)}if($e.value[qe.value]!==void 0&&$e.value[qe.value].forEach(Q=>{const ne=O+Q-1;Object.assign(r[ne],{selected:!0,unelevated:!0,flat:!1,color:Z.value,textColor:oe.value})}),Ae.value[qe.value]!==void 0&&Ae.value[qe.value].forEach(Q=>{if(Q.from!==void 0){const ne=O+Q.from-1,fe=O+(Q.to||S.value)-1;for(let Xe=ne;Xe<=fe;Xe++)Object.assign(r[Xe],{range:Q.range,unelevated:!0,color:Z.value,textColor:oe.value});Object.assign(r[ne],{rangeFrom:!0,flat:!1}),Q.to!==void 0&&Object.assign(r[fe],{rangeTo:!0,flat:!1})}else if(Q.to!==void 0){const ne=O+Q.to-1;for(let fe=O;fe<=ne;fe++)Object.assign(r[fe],{range:Q.range,unelevated:!0,color:Z.value,textColor:oe.value});Object.assign(r[ne],{flat:!1,rangeTo:!0})}else{const ne=O+S.value-1;for(let fe=O;fe<=ne;fe++)Object.assign(r[fe],{range:Q.range,unelevated:!0,color:Z.value,textColor:oe.value})}}),Ve.value!==void 0){const Q=O+Ve.value.from-1,ne=O+Ve.value.to-1;for(let fe=Q;fe<=ne;fe++)r[fe].color=Z.value,r[fe].editRange=!0;Ve.value.includeFrom===!0&&(r[Q].editRangeFrom=!0),Ve.value.includeTo===!0&&(r[ne].editRangeTo=!0)}x.value.year===F.value.year&&x.value.month===F.value.month&&(r[O+F.value.day-1].today=!0);const ie=r.length%7;if(ie>0){const Q=7-ie;for(let ne=1;ne<=Q;ne++)r.push({i:ne,fill:!0})}return r.forEach(Q=>{let ne="q-date__calendar-item ";Q.fill===!0?ne+="q-date__calendar-item--fill":(ne+=`q-date__calendar-item--${Q.in===!0?"in":"out"}`,Q.range!==void 0&&(ne+=` q-date__range${Q.rangeTo===!0?"-to":Q.rangeFrom===!0?"-from":""}`),Q.editRange===!0&&(ne+=` q-date__edit-range${Q.editRangeFrom===!0?"-from":""}${Q.editRangeTo===!0?"-to":""}`),(Q.range!==void 0||Q.editRange===!0)&&(ne+=` text-${Q.color}`)),Q.classes=ne}),r}),Re=h(()=>e.disable===!0?{"aria-disabled":"true"}:{});de(()=>e.modelValue,r=>{if(g===r)g=0;else{const m=je(q.value,p.value);Ke(m.year,m.month,m)}}),de(T,()=>{f.value!==null&&a.$el.contains(document.activeElement)===!0&&f.value.focus()}),de(()=>x.value.year+"|"+x.value.month,()=>{l("navigation",{year:x.value.year,month:x.value.month})}),de(P,r=>{C(r,p.value,"mask"),q.value=r}),de(D,r=>{C(q.value,r,"locale"),p.value=r});function Je(){const{year:r,month:m,day:w}=F.value,$={...x.value,year:r,month:m,day:w},O=$e.value[Dt($)];(O===void 0||O.includes($.day)===!1)&&Ot($),wt($.year,$.month)}function vt(r){Oa(r)===!0&&(T.value=r)}function Ut(r,m){["month","year"].includes(r)&&(r==="month"?Ne:Et)(m===!0?-1:1)}function wt(r,m){T.value="Calendar",Ke(r,m)}function pt(r,m){if(e.range===!1||!r){Y.value=null;return}const w=Object.assign({...x.value},r),$=m!==void 0?Object.assign({...x.value},m):w;Y.value={init:w,initHash:qt(w),final:$,finalHash:qt($)},wt(w.year,w.month)}function Qt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function _t(r,m,w){return xn(r,m,w,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function je(r,m){const w=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(w.length===0)return Oe();const $=w[w.length-1],O=_t($.from!==void 0?$.from:$,r,m);return O.dateHash===null?Oe():O}function Oe(){let r,m;if(e.defaultYearMonth!==void 0){const w=e.defaultYearMonth.split("/");r=parseInt(w[0],10),m=parseInt(w[1],10)}else{const w=F.value!==void 0?F.value:i();r=w.year,m=w.month}return{year:r,month:m,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+be(m)+"/01"}}function Ne(r){let m=x.value.year,w=Number(x.value.month)+r;w===13?(w=1,m++):w===0&&(w=12,m--),Ke(m,w),he.value===!0&&mt("month")}function Et(r){const m=Number(x.value.year)+r;Ke(m,x.value.month),he.value===!0&&mt("year")}function Ct(r){Ke(r,x.value.month),T.value=e.defaultView==="Years"?"Months":"Calendar",he.value===!0&&mt("year")}function xt(r){Ke(x.value.year,r),T.value="Calendar",he.value===!0&&mt("month")}function Wt(r,m){const w=$e.value[m];(w!==void 0&&w.includes(r.day)===!0?kt:Ot)(r)}function Ye(r){return{year:r.year,month:r.month,day:r.day}}function Ke(r,m,w){if(te.value!==null&&r<=te.value.year&&((m<te.value.month||r<te.value.year)&&(m=te.value.month),r=te.value.year),se.value!==null&&r>=se.value.year&&((m>se.value.month||r>se.value.year)&&(m=se.value.month),r=se.value.year),w!==void 0){const{hour:O,minute:ie,second:Q,millisecond:ne,timezoneOffset:fe,timeHash:Xe}=w;Object.assign(x.value,{hour:O,minute:ie,second:Q,millisecond:ne,timezoneOffset:fe,timeHash:Xe})}const $=r+"/"+be(m)+"/01";$!==x.value.dateHash&&(V.value=x.value.dateHash<$==(n.lang.rtl!==!0)?"left":"right",r!==x.value.year&&(U.value=V.value),Le(()=>{L.value=r-r%Ht-(r<0?Ht:0),Object.assign(x.value,{year:r,month:m,day:1,dateHash:$})}))}function at(r,m,w){const $=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;g=$;const{reason:O,details:ie}=$t(m,w);l("update:modelValue",$,O,ie)}function mt(r){const m=Se.value[0]!==void 0&&Se.value[0].dateHash!==null?{...Se.value[0]}:{...x.value};Le(()=>{m.year=x.value.year,m.month=x.value.month;const w=e.calendar!=="persian"?new Date(m.year,m.month,0).getDate():yl(m.year,m.month);m.day=Math.min(Math.max(1,m.day),w);const $=nt(m);g=$;const{details:O}=$t("",m);l("update:modelValue",$,r,O)})}function $t(r,m){return m.from!==void 0?{reason:`${r}-range`,details:{...Ye(m.target),from:Ye(m.from),to:Ye(m.to)}}:{reason:`${r}-day`,details:Ye(m)}}function nt(r,m,w){return r.from!==void 0?{from:Ee.value(r.from,m,w),to:Ee.value(r.to,m,w)}:Ee.value(r,m,w)}function Ot(r){let m;if(e.multiple===!0)if(r.from!==void 0){const w=qt(r.from),$=qt(r.to),O=Se.value.filter(Q=>Q.dateHash<w||Q.dateHash>$),ie=Pe.value.filter(({from:Q,to:ne})=>ne.dateHash<w||Q.dateHash>$);m=O.concat(ie).concat(r).map(Q=>nt(Q))}else{const w=ve.value.slice();w.push(nt(r)),m=w}else m=nt(r);at(m,"add",r)}function kt(r){if(e.noUnset===!0)return;let m=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const w=nt(r);r.from!==void 0?m=e.modelValue.filter($=>$.from!==void 0?$.from!==w.from&&$.to!==w.to:!0):m=e.modelValue.filter($=>$!==w),m.length===0&&(m=null)}at(m,"remove",r)}function C(r,m,w){const $=Se.value.concat(Pe.value).map(O=>nt(O,r,m)).filter(O=>O.from!==void 0?O.from.dateHash!==null&&O.to.dateHash!==null:O.dateHash!==null);l("update:modelValue",(e.multiple===!0?$:$[0])||null,w)}function j(){if(e.minimal!==!0)return d("div",{class:"q-date__header "+c.value},[d("div",{class:"relative-position"},[d(Ft,{name:"q-transition--fade"},()=>d("div",{key:"h-yr-"+me.value,class:"q-date__header-subtitle q-date__header-link "+(T.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...s("vY",{onClick(){T.value="Years"},onKeyup(r){r.keyCode===13&&(T.value="Years")}})},[me.value]))]),d("div",{class:"q-date__header-title relative-position flex no-wrap"},[d("div",{class:"relative-position col"},[d(Ft,{name:"q-transition--fade"},()=>d("div",{key:"h-sub"+z.value,class:"q-date__header-title-label q-date__header-link "+(T.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...s("vC",{onClick(){T.value="Calendar"},onKeyup(r){r.keyCode===13&&(T.value="Calendar")}})},[z.value]))]),e.todayBtn===!0?d(ge,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Je}):null])])}function W({label:r,type:m,key:w,dir:$,goTo:O,boundaries:ie,cls:Q}){return[d("div",{class:"row items-center q-date__arrow"},[d(ge,{round:!0,dense:!0,size:"sm",flat:!0,icon:ee.value[0],tabindex:u.value,disable:ie.prev===!1,...s("go-#"+m,{onClick(){O(-1)}})})]),d("div",{class:"relative-position overflow-hidden flex flex-center"+Q},[d(Ft,{name:"q-transition--jump-"+$},()=>d("div",{key:w},[d(ge,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:u.value,...s("view#"+m,{onClick:()=>{T.value=m}})})]))]),d("div",{class:"row items-center q-date__arrow"},[d(ge,{round:!0,dense:!0,size:"sm",flat:!0,icon:ee.value[1],tabindex:u.value,disable:ie.next===!1,...s("go+#"+m,{onClick(){O(1)}})})])]}const G={Calendar:()=>[d("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[d("div",{class:"q-date__navigation row items-center no-wrap"},W({label:p.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:V.value,goTo:Ne,boundaries:ce.value.month,cls:" col"}).concat(W({label:x.value.year,type:"Years",key:x.value.year,dir:U.value,goTo:Et,boundaries:ce.value.year,cls:""}))),d("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ue.value.map(r=>d("div",{class:"q-date__calendar-item"},[d("div",r)]))),d("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[d(Ft,{name:"q-transition--slide-"+V.value},()=>d("div",{key:qe.value,class:"q-date__calendar-days fit"},ze.value.map(r=>d("div",{class:r.classes},[r.in===!0?d(ge,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:u.value,...s("day#"+r.i,{onClick:()=>{le(r.i)},onMouseover:()=>{Ce(r.i)}})},r.event!==!1?()=>d("div",{class:"q-date__event bg-"+r.event}):null):d("div",""+r.i)]))))])])],Months(){const r=x.value.year===F.value.year,m=$=>te.value!==null&&x.value.year===te.value.year&&te.value.month>$||se.value!==null&&x.value.year===se.value.year&&se.value.month<$,w=p.value.monthsShort.map(($,O)=>{const ie=x.value.month===O+1;return d("div",{class:"q-date__months-item flex flex-center"},[d(ge,{class:r===!0&&F.value.month===O+1?"q-date__today":null,flat:ie!==!0,label:$,unelevated:ie,color:ie===!0?Z.value:null,textColor:ie===!0?oe.value:null,tabindex:u.value,disable:m(O+1),...s("month#"+O,{onClick:()=>{xt(O+1)}})})])});return e.yearsInMonthView===!0&&w.unshift(d("div",{class:"row no-wrap full-width"},[W({label:x.value.year,type:"Years",key:x.value.year,dir:U.value,goTo:Et,boundaries:ce.value.year,cls:" col"})])),d("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},w)},Years(){const r=L.value,m=r+Ht,w=[],$=O=>te.value!==null&&te.value.year>O||se.value!==null&&se.value.year<O;for(let O=r;O<=m;O++){const ie=x.value.year===O;w.push(d("div",{class:"q-date__years-item flex flex-center"},[d(ge,{key:"yr"+O,class:F.value.year===O?"q-date__today":null,flat:!ie,label:O,dense:!0,unelevated:ie,color:ie===!0?Z.value:null,textColor:ie===!0?oe.value:null,tabindex:u.value,disable:$(O),...s("yr#"+O,{onClick:()=>{Ct(O)}})})]))}return d("div",{class:"q-date__view q-date__years flex flex-center"},[d("div",{class:"col-auto"},[d(ge,{round:!0,dense:!0,flat:!0,icon:ee.value[0],tabindex:u.value,disable:$(r),...s("y-",{onClick:()=>{L.value-=Ht}})})]),d("div",{class:"q-date__years-content col self-stretch row items-center"},w),d("div",{class:"col-auto"},[d(ge,{round:!0,dense:!0,flat:!0,icon:ee.value[1],tabindex:u.value,disable:$(m),...s("y+",{onClick:()=>{L.value+=Ht}})})])])}};function le(r){const m={...x.value,day:r};if(e.range===!1){Wt(m,qe.value);return}if(Y.value===null){const w=ze.value.find(O=>O.fill!==!0&&O.i===r);if(e.noUnset!==!0&&w.range!==void 0){kt({target:m,from:w.range.from,to:w.range.to});return}if(w.selected===!0){kt(m);return}const $=qt(m);Y.value={init:m,initHash:$,final:m,finalHash:$},l("rangeStart",Ye(m))}else{const w=Y.value.initHash,$=qt(m),O=w<=$?{from:Y.value.init,to:m}:{from:m,to:Y.value.init};Y.value=null,Ot(w===$?m:{target:m,...O}),l("rangeEnd",{from:Ye(O.from),to:Ye(O.to)})}}function Ce(r){if(Y.value!==null){const m={...x.value,day:r};Object.assign(Y.value,{final:m,finalHash:qt(m)})}}return Object.assign(a,{setToday:Je,setView:vt,offsetCalendar:Ut,setCalendarTo:wt,setEditingRange:pt}),()=>{const r=[d("div",{class:"q-date__content col relative-position"},[d(Ft,{name:"q-transition--fade"},G[T.value])])],m=We(t.default);return m!==void 0&&r.push(d("div",{class:"q-date__actions"},m)),e.name!==void 0&&e.disable!==!0&&y(r,"push"),d("div",{class:R.value,...Re.value},[j(),d("div",{ref:f,class:"q-date__main col column",tabindex:-1},r)])}}});function za(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const ru=mo({name:"close-popup",beforeMount(e,{value:t}){const l={depth:za(t),handler(a){l.depth!==0&&setTimeout(()=>{const n=ho(e);n!==void 0&&go(n,a,l.depth)})},handlerKey(a){kl(a,13)===!0&&l.handler(a)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=za(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),uu={key:0,class:"text-h6"},iu={key:1,class:"text-h6"},su={class:"text-subtitle2 ellipsis",style:{"max-width":"20em"}},cu={class:"row items-center justify-end"},du=Nt({__name:"ShareForm",props:{resourcePath:{type:String,required:!0}},setup(e){const t=e,l=M(),a=M(""),n=M(!1),o=M(!1),s=M(""),u=M(),c=M(""),b=M(!1),i=Gl(),g=M();function _(p){return Date.parse(p)-Date.now()>=0}function y(){const p=new Date(Date.now());return p.setDate(p.getDate()+1),qn.formatDate(p,"YYYY/MM")}function f(){c.value&&g.value&&(g.value.focus(),g.value.select(),navigator.clipboard.writeText(c.value),i.notify({type:"info",message:"The link has been copied to the clipboard."}))}de(c,()=>{f()}),de(g,()=>{f()});async function q(){if(await u.value?.validate(!0)){if(n.value||(s.value=""),o.value||(a.value=""),t.resourcePath.startsWith("/home")){let P=t.resourcePath.substring(5);P===""&&(P="/");let D=Math.floor((Date.parse(a.value)-Date.now())/1e3);console.log("E: ",D);const F=await Qe.fetch("/api/v1/files/shares/",{method:"POST",body:new URLSearchParams({path:decodeURIComponent(P),expires_in:D?D.toString():"",password:s.value})});if(F.ok){const{share_token:x}=await F.json();if(x){c.value=`${window.location.origin}/shares/${x}`;return}}i.notify({type:"negative",message:"There was a problem getting the share link. Try again."});return}i.notify({type:"negative",message:"Impossible to get the share link"})}}return Vt(()=>{t.resourcePath.startsWith("/shares/")&&(c.value=`${window.location.origin}${t.resourcePath}`)}),(p,P)=>(pe(),Me(Jl,null,{default:N(()=>[H(ol,{class:"bg-primary text-white"},{default:N(()=>[c.value?Ze("",!0):(pe(),sl("div",uu,"Create a public link")),c.value?(pe(),sl("div",iu,"Public link created")):Ze("",!0),it("div",su,[Ge(" for "),it("q",null,hl(e.resourcePath.substring(e.resourcePath.lastIndexOf("/")+1)),1)])]),_:1}),H(Zl),c.value?(pe(),Me(ol,{key:0},{default:N(()=>[H(rl,{type:"url",modelValue:c.value,"onUpdate:modelValue":P[0]||(P[0]=D=>c.value=D),outlined:"","hide-bottom-space":"",standout:"",readonly:"",label:"The link has been copied!",class:"shadow-1",ref_key:"shareLinkElement",ref:g,style:{"min-width":"20em"}},null,8,["modelValue"])]),_:1})):Ze("",!0),c.value?Ze("",!0):(pe(),Me(ol,{key:1},{default:N(()=>[H(rn,{onSubmit:q,greedy:"",ref_key:"form",ref:u},{default:N(()=>[H(ta,null,{default:N(()=>[gt((pe(),Me(yt,{tag:"label"},{default:N(()=>[H(He,null,{default:N(()=>[H(al,null,{default:N(()=>[Ge("Expiration")]),_:1}),H(al,{caption:""},{default:N(()=>[Ge("Disable this link on a specific date.")]),_:1})]),_:1}),H(He,{avatar:""},{default:N(()=>[H(ha,{"checked-icon":"check_circle","unchecked-icon":"cancel",color:"primary",modelValue:o.value,"onUpdate:modelValue":P[1]||(P[1]=D=>o.value=D)},null,8,["modelValue"])]),_:1})]),_:1})),[[It]]),o.value?(pe(),Me(yt,{key:0},{default:N(()=>[H(He,null,{default:N(()=>[H(rl,{outlined:"",label:"Expiration date",modelValue:a.value,"onUpdate:modelValue":P[4]||(P[4]=D=>a.value=D),rules:[D=>D&&_(D)||"Invalid date."],"input-class":"cursor-pointer",mask:"####-##-##"},{append:N(()=>[H(Ie,{name:"event",class:"cursor-pointer"})]),default:N(()=>[H(et(Lt),{ref_key:"dateProxy",ref:l},{default:N(()=>[H(ou,{modelValue:a.value,"onUpdate:modelValue":[P[2]||(P[2]=D=>a.value=D),P[3]||(P[3]=D=>l.value?.hide())],minimal:"","no-unset":"",mask:"YYYY-MM-DD",options:_,"default-year-month":y()},{default:N(()=>[it("div",cu,[gt(H(ge,{label:"Close",color:"primary",flat:""},null,512),[[ru]])])]),_:1},8,["modelValue","default-year-month"])]),_:1},512)]),_:1},8,["modelValue","rules"])]),_:1})]),_:1})):Ze("",!0),gt((pe(),Me(yt,{tag:"label"},{default:N(()=>[H(He,null,{default:N(()=>[H(al,null,{default:N(()=>[Ge("Require password")]),_:1}),H(al,{caption:""},{default:N(()=>[Ge("Set a password to limit access to this resource via link.")]),_:1})]),_:1}),H(He,{avatar:""},{default:N(()=>[H(ha,{"checked-icon":"check_circle","unchecked-icon":"cancel",color:"primary",modelValue:n.value,"onUpdate:modelValue":P[5]||(P[5]=D=>n.value=D)},null,8,["modelValue"])]),_:1})]),_:1})),[[It]]),n.value?(pe(),Me(yt,{key:1},{default:N(()=>[H(He,null,{default:N(()=>[H(rl,{autocomplete:"new-password",modelValue:s.value,"onUpdate:modelValue":P[7]||(P[7]=D=>s.value=D),type:b.value?"text":"password",label:"Password",outlined:"",rules:[D=>D.length>0||"Password cannot be empty"],required:""},{append:N(()=>[H(Ie,{name:b.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:P[6]||(P[6]=D=>b.value=!b.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),_:1})]),_:1})):Ze("",!0)]),_:1})]),_:1},512)]),_:1})),c.value?Ze("",!0):(pe(),Me(nn,{key:2,align:"right"},{default:N(()=>[H(ge,{flat:"",label:"Create the link",color:"primary",type:"submit",onClick:q})]),_:1}))]),_:1}))}}),Il=Yt(du,[["__file","ShareForm.vue"]]),fu={...Wl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Al=50,Dn=2*Al,Mn=Dn*Math.PI,vu=Math.round(Mn*1e3)/1e3,mu=_e({name:"QCircularProgress",props:{...fu,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=Fe(),a=Kl(e),n=h(()=>{const y=(l.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(l.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-y}deg)`:`rotate3d(0, 0, 1, ${y-90}deg)`}}),o=h(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=h(()=>Dn/(1-e.thickness/2)),u=h(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),c=h(()=>er(e.value,e.min,e.max)),b=h(()=>e.max-e.min),i=h(()=>e.thickness/2*s.value),g=h(()=>{const y=(e.max-c.value)/b.value,f=e.rounded===!0&&c.value<e.max&&y<.25?i.value/2*(1-y/.25):0;return Mn*y+f});function _({thickness:y,offset:f,color:q,cls:p,rounded:P}){return d("circle",{class:"q-circular-progress__"+p+(q!==void 0?` text-${q}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":y,"stroke-dasharray":vu,"stroke-dashoffset":f,"stroke-linecap":P,cx:s.value,cy:s.value,r:Al})}return()=>{const y=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&y.push(d("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Al-i.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&y.push(_({cls:"track",thickness:i.value,offset:0,color:e.trackColor})),y.push(_({cls:"circle",thickness:i.value,offset:g.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const f=[d("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:u.value,"aria-hidden":"true"},y)];return e.showValue===!0&&f.push(d("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[d("div",c.value)])),d("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:c.value},en(t.internal,f))}}});function Zt(e,t,l,a){const n=[];return e.forEach(o=>{a(o)===!0?n.push(o):t.push({failedPropValidation:l,file:o})}),n}function ml(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),tt(e)}const hu={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},gu=["rejected"];function yu({editable:e,dnd:t,getFileInput:l,addFilesToQueue:a}){const{props:n,emit:o,proxy:s}=Fe(),u=M(null),c=h(()=>n.accept!==void 0?n.accept.split(",").map(D=>(D=D.trim(),D==="*"?"*/":(D.endsWith("/*")&&(D=D.slice(0,D.length-1)),D.toUpperCase()))):null),b=h(()=>parseInt(n.maxFiles,10)),i=h(()=>parseInt(n.maxTotalSize,10));function g(D){if(e.value)if(D!==Object(D)&&(D={target:null}),D.target!==null&&D.target.matches('input[type="file"]')===!0)D.clientX===0&&D.clientY===0&&Mt(D);else{const F=l();F&&F!==D.target&&F.click(D)}}function _(D){e.value&&D&&a(null,D)}function y(D,F,x,T){let B=Array.from(F||D.target.files);const V=[],U=()=>{V.length!==0&&o("rejected",V)};if(n.accept!==void 0&&c.value.indexOf("*/")===-1&&(B=Zt(B,V,"accept",E=>c.value.some(L=>E.type.toUpperCase().startsWith(L)||E.name.toUpperCase().endsWith(L))),B.length===0))return U();if(n.maxFileSize!==void 0){const E=parseInt(n.maxFileSize,10);if(B=Zt(B,V,"max-file-size",L=>L.size<=E),B.length===0)return U()}if(n.multiple!==!0&&B.length!==0&&(B=[B[0]]),B.forEach(E=>{E.__key=E.webkitRelativePath+E.lastModified+E.name+E.size}),T===!0){const E=x.map(L=>L.__key);B=Zt(B,V,"duplicate",L=>E.includes(L.__key)===!1)}if(B.length===0)return U();if(n.maxTotalSize!==void 0){let E=T===!0?x.reduce((L,Y)=>L+Y.size,0):0;if(B=Zt(B,V,"max-total-size",L=>(E+=L.size,E<=i.value)),B.length===0)return U()}if(typeof n.filter=="function"){const E=n.filter(B);B=Zt(B,V,"filter",L=>E.includes(L))}if(n.maxFiles!==void 0){let E=T===!0?x.length:0;if(B=Zt(B,V,"max-files",()=>(E++,E<=b.value)),B.length===0)return U()}if(U(),B.length!==0)return B}function f(D){ml(D),t.value!==!0&&(t.value=!0)}function q(D){tt(D),(D.relatedTarget!==null||Aa.is.safari!==!0?D.relatedTarget!==u.value:document.elementsFromPoint(D.clientX,D.clientY).includes(u.value)===!1)===!0&&(t.value=!1)}function p(D){ml(D);const F=D.dataTransfer.files;F.length!==0&&a(null,F),t.value=!1}function P(D){if(t.value===!0)return d("div",{ref:u,class:`q-${D}__dnd absolute-full`,onDragenter:ml,onDragover:ml,onDragleave:q,onDrop:p})}return Object.assign(s,{pickFiles:g,addFiles:_}),{pickFiles:g,addFiles:_,onDragover:f,onDragleave:q,processFiles:y,getDndNode:P,maxFilesNumber:b,maxTotalSizeNumber:i}}function Ha(e){return(e*100).toFixed(2)+"%"}const bu={...st,...hu,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Fn=[...gu,"start","finish","added","removed"];function Su(e,t){const l=Fe(),{props:a,slots:n,emit:o,proxy:s}=l,{$q:u}=s,c=ct(a,u);function b(S,X,te){if(S.__status=X,X==="idle"){S.__uploaded=0,S.__progress=0,S.__sizeLabel=qa(S.size),S.__progressLabel="0.00%";return}if(X==="failed"){s.$forceUpdate();return}S.__uploaded=X==="uploaded"?S.size:te,S.__progress=X==="uploaded"?1:Math.min(.9999,S.__uploaded/S.size),S.__progressLabel=Ha(S.__progress),s.$forceUpdate()}const i=h(()=>a.disable!==!0&&a.readonly!==!0),g=M(!1),_=M(null),y=M(null),f={files:M([]),queuedFiles:M([]),uploadedFiles:M([]),uploadedSize:M(0),updateFileStatus:b,isAlive:()=>gl(l)===!1},{pickFiles:q,addFiles:p,onDragover:P,onDragleave:D,processFiles:F,getDndNode:x,maxFilesNumber:T,maxTotalSizeNumber:B}=yu({editable:i,dnd:g,getFileInput:k,addFilesToQueue:z});Object.assign(f,e({props:a,slots:n,emit:o,helpers:f,exposeApi:S=>{Object.assign(f,S)}})),f.isBusy===void 0&&(f.isBusy=M(!1));const V=M(0),U=h(()=>V.value===0?0:f.uploadedSize.value/V.value),E=h(()=>Ha(U.value)),L=h(()=>qa(V.value)),Y=h(()=>i.value===!0&&f.isUploading.value!==!0&&(a.multiple===!0||f.queuedFiles.value.length===0)&&(a.maxFiles===void 0||f.files.value.length<T.value)&&(a.maxTotalSize===void 0||V.value<B.value)),R=h(()=>i.value===!0&&f.isBusy.value!==!0&&f.isUploading.value!==!0&&f.queuedFiles.value.length!==0);yo(bo,me);const Z=h(()=>"q-uploader column no-wrap"+(c.value===!0?" q-uploader--dark q-dark":"")+(a.bordered===!0?" q-uploader--bordered":"")+(a.square===!0?" q-uploader--square no-border-radius":"")+(a.flat===!0?" q-uploader--flat no-shadow":"")+(a.disable===!0?" disabled q-uploader--disable":"")+(g.value===!0?" q-uploader--dnd":"")),oe=h(()=>"q-uploader__header"+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:""));de(f.isUploading,(S,X)=>{X===!1&&S===!0?o("start"):X===!0&&S===!1&&o("finish")});function he(){a.disable===!1&&(f.abort(),f.uploadedSize.value=0,V.value=0,Ee(),f.files.value=[],f.queuedFiles.value=[],f.uploadedFiles.value=[])}function ve(){a.disable===!1&&Pe(["uploaded"],()=>{f.uploadedFiles.value=[]})}function Se(){Pe(["idle","failed"],({size:S})=>{V.value-=S,f.queuedFiles.value=[]})}function Pe(S,X){if(a.disable===!0)return;const te={files:[],size:0},se=f.files.value.filter(ce=>S.indexOf(ce.__status)===-1?!0:(te.size+=ce.size,te.files.push(ce),ce.__img!==void 0&&window.URL.revokeObjectURL(ce.__img.src),!1));te.files.length!==0&&(f.files.value=se,X(te),o("removed",te.files))}function ke(S){a.disable||(S.__status==="uploaded"?f.uploadedFiles.value=f.uploadedFiles.value.filter(X=>X.__key!==S.__key):S.__status==="uploading"?S.__abort():V.value-=S.size,f.files.value=f.files.value.filter(X=>X.__key!==S.__key?!0:(X.__img!==void 0&&window.URL.revokeObjectURL(X.__img.src),!1)),f.queuedFiles.value=f.queuedFiles.value.filter(X=>X.__key!==S.__key),o("removed",[S]))}function Ee(){f.files.value.forEach(S=>{S.__img!==void 0&&window.URL.revokeObjectURL(S.__img.src)})}function k(){return y.value||_.value.getElementsByClassName("q-uploader__input")[0]}function z(S,X){const te=F(S,X,f.files.value,!0),se=k();se!=null&&(se.value=""),te!==void 0&&(te.forEach(ce=>{if(f.updateFileStatus(ce,"idle"),V.value+=ce.size,a.noThumbnails!==!0&&ce.type.toUpperCase().startsWith("IMAGE")){const $e=new Image;$e.src=window.URL.createObjectURL(ce),ce.__img=$e}}),f.files.value=f.files.value.concat(te),f.queuedFiles.value=f.queuedFiles.value.concat(te),o("added",te),a.autoUpload===!0&&f.upload())}function J(){R.value===!0&&f.upload()}function re(S,X,te){if(S===!0){const se={type:"a",key:X,icon:u.iconSet.uploader[X],flat:!0,dense:!0};let ce;return X==="add"?(se.onClick=q,ce=me):se.onClick=te,d(ge,se,ce)}}function me(){return d("input",{ref:y,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:a.accept,multiple:a.multiple===!0?"multiple":void 0,capture:a.capture,onMousedown:Mt,onClick:q,onChange:z})}function ee(){return n.header!==void 0?n.header(ue):[d("div",{class:"q-uploader__header-content column"},[d("div",{class:"flex flex-center no-wrap q-gutter-xs"},[re(f.queuedFiles.value.length!==0,"removeQueue",Se),re(f.uploadedFiles.value.length!==0,"removeUploaded",ve),f.isUploading.value===!0?d(wl,{class:"q-uploader__spinner"}):null,d("div",{class:"col column justify-center"},[a.label!==void 0?d("div",{class:"q-uploader__title"},[a.label]):null,d("div",{class:"q-uploader__subtitle"},[L.value+" / "+E.value])]),re(Y.value,"add"),re(a.hideUploadBtn===!1&&R.value===!0,"upload",f.upload),re(f.isUploading.value,"clear",f.abort)])])]}function K(){return n.list!==void 0?n.list(ue):f.files.value.map(S=>d("div",{key:S.__key,class:"q-uploader__file relative-position"+(a.noThumbnails!==!0&&S.__img!==void 0?" q-uploader__file--img":"")+(S.__status==="failed"?" q-uploader__file--failed":S.__status==="uploaded"?" q-uploader__file--uploaded":""),style:a.noThumbnails!==!0&&S.__img!==void 0?{backgroundImage:'url("'+S.__img.src+'")'}:null},[d("div",{class:"q-uploader__file-header row flex-center no-wrap"},[S.__status==="failed"?d(Ie,{class:"q-uploader__file-status",name:u.iconSet.type.negative,color:"negative"}):null,d("div",{class:"q-uploader__file-header-content col"},[d("div",{class:"q-uploader__title"},[S.name]),d("div",{class:"q-uploader__subtitle row items-center no-wrap"},[S.__sizeLabel+" / "+S.__progressLabel])]),S.__status==="uploading"?d(mu,{value:S.__progress,min:0,max:1,indeterminate:S.__progress===0}):d(ge,{round:!0,dense:!0,flat:!0,icon:u.iconSet.uploader[S.__status==="uploaded"?"done":"clear"],onClick:()=>{ke(S)}})])]))}Rt(()=>{f.isUploading.value===!0&&f.abort(),f.files.value.length!==0&&Ee()});const ue={};for(const S in f)So(f[S])===!0?Tt(ue,S,()=>f[S].value):ue[S]=f[S];return Object.assign(ue,{upload:J,reset:he,removeUploadedFiles:ve,removeQueuedFiles:Se,removeFile:ke,pickFiles:q,addFiles:p}),ln(ue,{canAddFiles:()=>Y.value,canUpload:()=>R.value,uploadSizeLabel:()=>L.value,uploadProgressLabel:()=>E.value}),t({...f,upload:J,reset:he,removeUploadedFiles:ve,removeQueuedFiles:Se,removeFile:ke,pickFiles:q,addFiles:p,canAddFiles:Y,canUpload:R,uploadSizeLabel:L,uploadProgressLabel:E}),()=>{const S=[d("div",{class:oe.value},ee()),d("div",{class:"q-uploader__list scroll"},K()),x("uploader")];f.isBusy.value===!0&&S.push(d("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[d(wl)]));const X={ref:_,class:Z.value};return Y.value===!0&&Object.assign(X,{onDragover:P,onDragleave:D}),d("div",X,S)}}const wu=()=>!0;function pu(e){const t={};return e.forEach(l=>{t[l]=wu}),t}const _u=pu(Fn),Cu=({name:e,props:t,emits:l,injectPlugin:a})=>_e({name:e,props:{...bu,...t},emits:Xl(l)===!0?{..._u,...l}:[...Fn,...l],setup(n,{expose:o}){return Su(a,o)}});function ht(e){return typeof e=="function"?e:()=>e}const xu="QUploader",ku={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},qu=["factoryFailed","uploaded","failed","uploading"];function Du({props:e,emit:t,helpers:l}){const a=M([]),n=M([]),o=M(0),s=h(()=>({url:ht(e.url),method:ht(e.method),headers:ht(e.headers),formFields:ht(e.formFields),fieldName:ht(e.fieldName),withCredentials:ht(e.withCredentials),sendRaw:ht(e.sendRaw),batch:ht(e.batch)})),u=h(()=>o.value>0),c=h(()=>n.value.length!==0);let b;function i(){a.value.forEach(f=>{f.abort()}),n.value.length!==0&&(b=!0)}function g(){const f=l.queuedFiles.value.slice(0);l.queuedFiles.value=[],s.value.batch(f)?_(f):f.forEach(q=>{_([q])})}function _(f){if(o.value++,typeof e.factory!="function"){y(f,{});return}const q=e.factory(f);if(!q)t("factoryFailed",new Error("QUploader: factory() does not return properly"),f),o.value--;else if(typeof q.catch=="function"&&typeof q.then=="function"){n.value.push(q);const p=P=>{l.isAlive()===!0&&(n.value=n.value.filter(D=>D!==q),n.value.length===0&&(b=!1),l.queuedFiles.value=l.queuedFiles.value.concat(f),f.forEach(D=>{l.updateFileStatus(D,"failed")}),t("factoryFailed",P,f),o.value--)};q.then(P=>{b===!0?p(new Error("Aborted")):l.isAlive()===!0&&(n.value=n.value.filter(D=>D!==q),y(f,P))}).catch(p)}else y(f,q||{})}function y(f,q){const p=new FormData,P=new XMLHttpRequest,D=(R,Z)=>q[R]!==void 0?ht(q[R])(Z):s.value[R](Z),F=D("url",f);if(!F){console.error("q-uploader: invalid or no URL specified"),o.value--;return}const x=D("formFields",f);x!==void 0&&x.forEach(R=>{p.append(R.name,R.value)});let T=0,B=0,V=0,U=0,E;P.upload.addEventListener("progress",R=>{if(E===!0)return;const Z=Math.min(U,R.loaded);l.uploadedSize.value+=Z-V,V=Z;let oe=V-B;for(let he=T;oe>0&&he<f.length;he++){const ve=f[he];if(oe>ve.size)oe-=ve.size,T++,B+=ve.size,l.updateFileStatus(ve,"uploading",ve.size);else{l.updateFileStatus(ve,"uploading",oe);return}}},!1),P.onreadystatechange=()=>{P.readyState<4||(P.status&&P.status<400?(l.uploadedFiles.value=l.uploadedFiles.value.concat(f),f.forEach(R=>{l.updateFileStatus(R,"uploaded")}),t("uploaded",{files:f,xhr:P})):(E=!0,l.uploadedSize.value-=V,l.queuedFiles.value=l.queuedFiles.value.concat(f),f.forEach(R=>{l.updateFileStatus(R,"failed")}),t("failed",{files:f,xhr:P})),o.value--,a.value=a.value.filter(R=>R!==P))},P.open(D("method",f),F),D("withCredentials",f)===!0&&(P.withCredentials=!0);const L=D("headers",f);L!==void 0&&L.forEach(R=>{P.setRequestHeader(R.name,R.value)});const Y=D("sendRaw",f);f.forEach(R=>{l.updateFileStatus(R,"uploading",0),Y!==!0&&p.append(D("fieldName",R),R,R.name),R.xhr=P,R.__abort=()=>{P.abort()},U+=R.size}),t("uploading",{files:f,xhr:P}),a.value.push(P),Y===!0?P.send(new Blob(f)):P.send(p)}return{isUploading:u,isBusy:c,abort:i,upload:g}}const Mu={name:xu,props:ku,emits:qu,injectPlugin:Du},Fu=Cu(Mu),Tu=Nt({__name:"UploadForm",props:{path:{}},emits:["uploaded"],setup(e){const t=cl(),l=e,a=M();function n(c){return`/api/v1/files${l.path}/${c[0].name}`}function o(c){const b=async()=>{await Qe.refresh(),a.value?.upload()};c.xhr.status==401&&Qe.isNeeded(`/api/v1/files${l.path}`)&&t(b())}function s(){return Qe.isNeeded(`/api/v1/files${l.path}`)}function u(){if(Qe.isNeeded(`/api/v1/files${l.path}`))return[{name:"Authorization",value:"Bearer cookie:access_token"}]}return(c,b)=>(pe(),Me(et(Fu),{ref_key:"uploaderComponent",ref:a,"with-credentials":s,headers:u,label:`Upload a file to ${l.path.substring(l.path.lastIndexOf("/")+1)}`,method:"PUT",url:n,"send-raw":"",onFailed:o,onUploaded:b[0]||(b[0]=i=>c.$emit("uploaded")),"auto-upload":"","hide-upload-btn":"","no-thumbnails":""},null,8,["label"]))}}),Pu=Yt(Tu,[["__file","UploadForm.vue"]]);async function Vu(e){return Qe.fetch("/api/v1/files"+e,{method:"PUT",headers:{"X-FZ-Action":"mkdir"}})}async function Ru(e,t=!0){return await Qe.fetch("/api/v1/files"+e,{method:"DELETE",headers:t?{"X-FZ-Recursive":"true"}:void 0})}async function Bu(e,t){const l=e.substring(0,e.lastIndexOf("/"));return e=e.substring(l.length+1),await Qe.fetch("/api/v1/files"+l,{method:"POST",headers:{"X-FZ-Action":`move-from; path=${encodeURIComponent(e)}, move-to; path=${encodeURIComponent(t)}`}})}const jl={mkdir:Vu,remove:Ru,rename:Bu,auth:Qe},Eu=Nt({__name:"NewFolderForm",props:{path:{}},emits:["created"],setup(e,{emit:t}){const l=M(),a=cl(),n=e,o=t,s=M(""),u=M(!1),c=M("");function b(g){return g?!0:"Name cannot be empty"}function i(){const g=async()=>{const _=await jl.mkdir(`${n.path}/${encodeURIComponent(s.value)}`);_.ok?(u.value=!1,o("created")):(c.value=_.statusText,u.value=!0)};l.value?.validate(!0).then(_=>{_&&a(g())})}return(g,_)=>(pe(),Me(Jl,null,{default:N(()=>[H(et(rn),{onSubmit:i,greedy:"",ref_key:"form",ref:l},{default:N(()=>[H(ol,null,{default:N(()=>[H(rl,{outlined:"",type:"text",label:"New folder's name",modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=y=>s.value=y),error:u.value,"error-message":c.value,"lazy-rule":"",rules:[b]},null,8,["modelValue","error","error-message","rules"])]),_:1}),H(nn,{align:"right"},{default:N(()=>[H(ge,{dense:"",flat:"",type:"submit",color:"primary",label:"Create",onClick:i})]),_:1})]),_:1},512)]),_:1}))}}),$u=Yt(Eu,[["__file","NewFolderForm.vue"]]);var Tn={exports:{}},Te=Tn.exports={},rt,ut;function Nl(){throw new Error("setTimeout has not been defined")}function Yl(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?rt=setTimeout:rt=Nl}catch{rt=Nl}try{typeof clearTimeout=="function"?ut=clearTimeout:ut=Yl}catch{ut=Yl}})();function Pn(e){if(rt===setTimeout)return setTimeout(e,0);if((rt===Nl||!rt)&&setTimeout)return rt=setTimeout,setTimeout(e,0);try{return rt(e,0)}catch{try{return rt.call(null,e,0)}catch{return rt.call(this,e,0)}}}function Ou(e){if(ut===clearTimeout)return clearTimeout(e);if((ut===Yl||!ut)&&clearTimeout)return ut=clearTimeout,clearTimeout(e);try{return ut(e)}catch{try{return ut.call(null,e)}catch{return ut.call(this,e)}}}var bt=[],el=!1,At,bl=-1;function zu(){!el||!At||(el=!1,At.length?bt=At.concat(bt):bl=-1,bt.length&&Vn())}function Vn(){if(!el){var e=Pn(zu);el=!0;for(var t=bt.length;t;){for(At=bt,bt=[];++bl<t;)At&&At[bl].run();bl=-1,t=bt.length}At=null,el=!1,Ou(e)}}Te.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)t[l-1]=arguments[l];bt.push(new Rn(e,t)),bt.length===1&&!el&&Pn(Vn)};function Rn(e,t){this.fun=e,this.array=t}Rn.prototype.run=function(){this.fun.apply(null,this.array)};Te.title="browser";Te.browser=!0;Te.env={};Te.argv=[];Te.version="";Te.versions={};function St(){}Te.on=St;Te.addListener=St;Te.once=St;Te.off=St;Te.removeListener=St;Te.removeAllListeners=St;Te.emit=St;Te.prependListener=St;Te.prependOnceListener=St;Te.listeners=function(e){return[]};Te.binding=function(e){throw new Error("process.binding is not supported")};Te.cwd=function(){return"/"};Te.chdir=function(e){throw new Error("process.chdir is not supported")};Te.umask=function(){return 0};var Bn=Tn.exports;const Hu=["onClick"],Lu=Nt({__name:"DirectoryDisplay",props:{root:{type:String,required:!0},path:{type:String,required:!0}},emits:["selected","downloadRequested","shareRequested"],setup(e){const t=e,l=M(),a=M(!1),n=M(!1),o=M([]),s=[{label:"Name",field:"name",name:"name",align:"left",sortable:!0},{label:"Last modified",field:"mtime",name:"mtime",align:"left",sortable:!0,style:"width: 50px",headerStyle:"width: 50px"},{label:"Size",field:"size",name:"size",align:"left",sortable:!0,style:"width: 50px; overflow: hidden",headerStyle:"width: 50px; overflow: hidden"},{label:"",field:"",name:"actions",sortable:!1,style:"width: 50px; overflow: hidden",headerStyle:"width: 50px; overflow: hidden"}],u=Gl(),c=h(()=>{let T=["name","actions"];return u.screen.gt.sm&&T.push("size"),u.screen.gt.xs&&T.push("mtime"),T});function b(T){return T<0?"--":T.toString()+" bytes"}const i=(T,B,V)=>{const U=V?1:-1,E=V?-1:1;return B=="name"?[...T].sort((L,Y)=>L.type!==Y.type?L.type<Y.type?U:E:L.name!==Y.name?L.name<Y.name?U:E:0):B=="size"?[...T].sort((L,Y)=>L.size!==Y.size?L.size<Y.size?U:E:0):[...T].sort((L,Y)=>L.mtime!==Y.mtime?L.mtime<Y.mtime?U:E:0)},g={sortBy:"name",descending:!1,page:1,rowsPerPage:25},_=M(!1),y=async T=>{if(console.log("Fetching directory:",T),_.value=!0,T!=""){const B=await Qe.fetch(t.root+T,{headers:{Accept:"application/ndjson"}});if(!B.body)throw new Error("Failed retrieving the directory content");if(B.headers.get("Content-Type")!=="application/ndjson")throw new Error("Unrecognized Content-Type");o.value.length=0;const V=B.body.getReader(),U=new TextDecoder("utf-8");let E="";for(;;){const{done:L,value:Y}=await V.read();if(L)break;const Z=U.decode(Y).split(`
`);for(const oe of Z)try{E+=oe;const he=JSON.parse(E);o.value.push(he),E=""}catch{}}}else o.value.length=0;_.value=!1},f=cl();de(()=>t.path,T=>{f(y(T))}),Vt(()=>{f(y(t.path))});function q(){f(y(t.path))}function p(){f(y(t.path))}function P(T){const B=T.type==="d"?"folder":"file";u.dialog({title:`Delete ${B}?`,message:`Are you sure you want to delete <strong>${T.name}</strong>?`,cancel:!0,persistent:!0,html:!0}).onOk(()=>{jl.remove(t.path+"/"+encodeURIComponent(T.name)).then(V=>{V.ok?f(y(t.path)):u.notify({type:"negative",message:`Deleting the ${B} failed.`})})})}const D=M(""),F=M([]);function x(T,B){D.value=B.name,Bn.nextTick(()=>{F.value[T].show()})}return(T,B)=>(pe(),sl("div",null,[H(on,{class:"q-gutter-x-sm"},{default:N(()=>[H(ge,{dense:"",icon:"upload",label:"Upload"},{default:N(()=>[H(et(Lt),null,{default:N(()=>[H(Pu,{path:e.path,onUploaded:q},null,8,["path"])]),_:1})]),_:1}),H(ge,{dense:"",icon:"create_new_folder",label:"New Folder"},{default:N(()=>[H(et(Lt),null,{default:N(()=>[H($u,{path:e.path,onCreated:p},null,8,["path"])]),_:1})]),_:1}),H(ge,{dense:"",icon:"share",label:"Share"},{default:N(()=>[H(et(Lt),null,{default:N(()=>[H(Il,{"resource-path":e.path},null,8,["resource-path"])]),_:1})]),_:1})]),_:1}),H(qr,{"virtual-scroll":"",flat:"",grid:a.value,dense:n.value,"row-key":"name",rows:o.value,columns:s,"visible-columns":c.value,pagination:g,"sort-method":i,loading:_.value,"binary-state-sort":"",selected:l.value,"onUpdate:selected":B[1]||(B[1]=V=>l.value=V)},{body:N(V=>[H(Io,{props:V,onClick:U=>V.selected=!V.selected,class:"overlayed-row non-selectable"},{default:N(()=>[H(dl,{key:"name",props:V},{default:N(()=>[it("span",{class:"cursor-pointer",onClick:ga(U=>_.value?!1:T.$emit("selected",V.row),["stop"])},[H(Ie,{name:V.row.type==="d"?"folder":"insert_drive_file",left:"",size:"2em",color:V.row.type==="d"?"primary":void 0},null,8,["name","color"]),Ge(" "+hl(V.row.name),1)],8,Hu),D.value===V.row.name?(pe(),Me(et(Jr),{key:0,ref:U=>F.value[V.rowIndex]=U,modelValue:V.row.name,"onUpdate:modelValue":U=>V.row.name=U,title:"Edit the Name","auto-save":""},{default:N(U=>[H(rl,{modelValue:U.value,"onUpdate:modelValue":E=>U.value=E,dense:"",autofocus:"",counter:"",onKeyup:wo(()=>{et(jl).rename(t.path+"/"+V.row.name,U.value).then(()=>{U.set(),y(t.path)})},["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])):Ze("",!0)]),_:2},1032,["props"]),H(dl,{key:"mtime",props:V},{default:N(()=>[Ge(hl(et(qn).formatDate(V.row.mtime,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1032,["props"]),H(dl,{key:"size",props:V},{default:N(()=>[Ge(hl(b(V.row.size)),1)]),_:2},1032,["props"]),H(dl,{key:"actions",props:V},{default:N(()=>[H(ge,{dense:"",onClick:B[0]||(B[0]=ga(()=>{},["stop"])),square:"",flat:"",icon:"more_horiz"},{default:N(()=>[H(et(Lt),null,{default:N(()=>[H(ta,{bordered:"",class:"bg-white"},{default:N(()=>[V.row.type!=="d"?gt((pe(),Me(yt,{key:0,clickable:"",onClick:U=>T.$emit("downloadRequested",V.row)},{default:N(()=>[H(He,{avatar:""},{default:N(()=>[H(Ie,{name:"download"})]),_:1}),H(He,null,{default:N(()=>[Ge("Download")]),_:1})]),_:2},1032,["onClick"])),[[It]]):Ze("",!0),gt((pe(),Me(yt,{clickable:""},{default:N(()=>[H(He,{avatar:""},{default:N(()=>[H(Ie,{name:"share"})]),_:1}),H(He,null,{default:N(()=>[Ge("Share")]),_:1}),H(et(Lt),null,{default:N(()=>[H(Il,{"resource-path":t.path+"/"+V.row.name},null,8,["resource-path"])]),_:2},1024)]),_:2},1024)),[[It]]),gt((pe(),Me(yt,{clickable:"",onClick:U=>P(V.row)},{default:N(()=>[H(He,{avatar:""},{default:N(()=>[H(Ie,{name:"delete"})]),_:1}),H(He,null,{default:N(()=>[Ge("Delete")]),_:1})]),_:2},1032,["onClick"])),[[It]]),gt((pe(),Me(yt,{clickable:"",onClick:U=>x(V.rowIndex,V.row)},{default:N(()=>[H(He,{avatar:""},{default:N(()=>[H(Ie,{name:"text_fields"})]),_:1}),H(He,null,{default:N(()=>[Ge("Rename")]),_:1})]),_:2},1032,["onClick"])),[[It]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["grid","dense","rows","visible-columns","loading","selected"])]))}}),Iu=Yt(Lu,[["__file","DirectoryDisplay.vue"]]),Au={ratio:[String,Number]};function ju(e,t){return h(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Nu=1.7778,Yu=_e({name:"QImg",props:{...Au,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Nu},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const a=M(e.initialRatio),n=ju(e,a),o=Fe(),{registerTimeout:s,removeTimeout:u}=Bl(),{registerTimeout:c,removeTimeout:b}=Bl(),i=h(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),g=h(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),_=[M(null),M(i.value)],y=M(0),f=M(!1),q=M(!1),p=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),P=h(()=>({width:e.width,height:e.height})),D=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),F=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function x(){if(b(),e.loadingShowDelay===0){f.value=!0;return}c(()=>{f.value=!0},e.loadingShowDelay)}function T(){b(),f.value=!1}function B({target:R}){gl(o)===!1&&(u(),a.value=R.naturalHeight===0?.5:R.naturalWidth/R.naturalHeight,V(R,1))}function V(R,Z){Z===1e3||gl(o)===!0||(R.complete===!0?U(R):s(()=>{V(R,Z+1)},50))}function U(R){gl(o)!==!0&&(y.value=y.value^1,_[y.value].value=null,T(),R.getAttribute("__qerror")!=="true"&&(q.value=!1),l("load",R.currentSrc||R.src))}function E(R){u(),T(),q.value=!0,_[y.value].value=g.value,_[y.value^1].value=i.value,l("error",R)}function L(R){const Z=_[R].value,oe={key:"img_"+R,class:D.value,style:F.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...Z};return y.value===R?Object.assign(oe,{class:oe.class+"current",onLoad:B,onError:E}):oe.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+R},d("img",oe))}function Y(){return f.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},We(t[q.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(wl,{color:e.spinnerColor,size:e.spinnerSize})])}{let R=function(){de(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,Z=>{u(),q.value=!1,Z===null?(T(),_[y.value^1].value=i.value):x(),_[y.value].value=Z},{immediate:!0})};po.value===!0?Vt(R):R()}return()=>{const R=[];return n.value!==null&&R.push(d("div",{key:"filler",style:n.value})),_[0].value!==null&&R.push(L(0)),_[1].value!==null&&R.push(L(1)),R.push(d(Ft,{name:"q-transition--fade"},Y)),d("div",{key:"main",class:p.value,style:P.value,role:"img","aria-label":e.alt},R)}}}),Uu=[d("g",{transform:"translate(-20,-20)"},[d("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[d("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),d("g",{transform:"translate(20,20) rotate(15 50 50)"},[d("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[d("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])],Qu=_e({name:"QSpinnerGears",props:_o,setup(e){const{cSize:t,classes:l}=Co(e);return()=>d("svg",{class:l.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Uu)}}),Wu=_e({name:"QInnerLoading",props:{...st,...ja,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const l=Fe(),a=ct(e,l.proxy.$q),{transitionProps:n,transitionStyle:o}=Ya(e),s=h(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(a.value===!0?" q-inner-loading--dark":"")),u=h(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function c(){const i=[d(wl,{size:e.size,color:e.color})];return e.label!==void 0&&i.push(d("div",{class:u.value,style:e.labelStyle},[e.label])),i}function b(){return e.showing===!0?d("div",{class:s.value,style:o.value},t.default!==void 0?t.default():c()):null}return()=>d(Ft,n.value,b)}}),Ku={style:{height:"100%"}},Xu=Nt({__name:"ImageDisplay",props:{root:{type:String,required:!0},path:{type:String,required:!0}},setup(e){const t=e,l=M(""),a=M(!1),n=async s=>{a.value=!0,Le(async()=>{const c=await(await Qe.fetch(t.root+s)).blob();l.value=URL.createObjectURL(c),a.value=!1})},o=cl();return de(()=>t.path,s=>{o(n(s))}),Vt(()=>{o(n(t.path))}),(s,u)=>(pe(),sl("div",Ku,[H(Yu,{load:"",fit:"scale-down",src:l.value,alt:"File Image",style:{height:"100%"}},null,8,["src"]),H(Wu,{showing:a.value},{default:N(()=>[H(Qu,{size:"50px",color:"primary"})]),_:1},8,["showing"])]))}}),Zu=Yt(Xu,[["__file","ImageDisplay.vue"]]),Gu=it("div",{class:"text-h6"},"Cannot display content",-1),Ju=Nt({__name:"UnknownDisplay",props:{root:{type:String},path:{type:String}},setup(e){return(t,l)=>(pe(),Me(Jl,{flat:""},{default:N(()=>[H(ol,null,{default:N(()=>[Gu]),_:1})]),_:1}))}}),ei=Yt(Ju,[["__file","UnknownDisplay.vue"]]),ti={class:"row"},li={class:"col",style:{flex:"1"}},ai={class:"q-mt-md"},ni=["href"],oi=Nt({__name:"ResourceDisplay",props:{root:{type:String,required:!0}},setup(e){const t=e,l=M(!1),a=M("unknown"),n=M(""),o=M(""),s=M(""),u=M(""),c=M(""),b=M(),i=async E=>{console.log("Identifying resource: ",t.root+E);const L=await Qe.fetch(t.root+E,{method:"HEAD",headers:{Accept:"application/ndjson; q=1, */*; q=0.5"}});let Y="unknown",R="",Z="";if(L.ok){let oe=L.headers.get("Content-Type");oe&&(oe=oe.split(";")[0].trim(),oe==="application/ndjson"?Z=E:(Z=E.substring(0,E.lastIndexOf("/")),Z==="/shares"&&(Z=""),R=E,oe.startsWith("image/")&&(Y="image")))}a.value=Y,n.value=R,o.value=Z,s.value=decodeURIComponent(R.substring(R.lastIndexOf("/")+1)),u.value=decodeURIComponent(Z.substring(Z.lastIndexOf("/")+1))},g=cl(),_=xo(),y=ko(),f=Gl();de(_,E=>{g(i(E.path))}),Vt(()=>{g(i(_.path))});const q=M("");function p(E){q.value=`${E.height-120}px`}function P(){n.value="",l.value=!1,y.push(o.value)}function D(){return l.value||f.screen.lt.md||!o.value}function F(){return!!u.value}function x(){return!!u.value&&!f.screen.lt.md}async function T(E){let L,Y;if(E.startsWith("/home")){E=E.substring(5);let R=t.root+"/shares/";const Z=new Uint8Array(32);Y=crypto.getRandomValues(Z).toString();const oe=await Qe.fetch(R,{method:"POST",body:new URLSearchParams({path:decodeURIComponent(E),expires_in:"30",password:Y})});if(oe.ok){const{share_token:he}=await oe.json();he&&(L=`/shares/${he}`)}}else L=E;L&&(c.value=`${t.root}${L}?download`,Y&&(c.value+="&authorization="+encodeURIComponent(btoa(Y))),console.log("Download path: ",c.value),Bn.nextTick(()=>{b.value?.click()}))}function B(){if(n.value==""){console.error("currentFilePath is empty");return}g(T(n.value))}function V(E){y.push(o.value+"/"+encodeURIComponent(E.name))}function U(E){g(T(o.value+"/"+E.name))}return(E,L)=>(pe(),sl(Fo,null,[it("div",ti,[it("div",li,[o.value?(pe(),Me(Iu,{key:0,style:qo({height:q.value,"max-width":"auto"}),root:t.root,path:o.value,onSelected:V,onDownloadRequested:U},null,8,["style","root","path"])):Ze("",!0)]),gt(H(Zl,{vertical:"",spaced:"md"},null,512),[[ya,n.value]]),gt(it("div",{class:Do(["col-5 bg-white",D()?"fit fullscreen":void 0])},[H(on,{class:"q-gutter-x-sm"},{default:N(()=>[H(ge,{dense:"",icon:"download",label:"Download",onClick:B}),H(ge,{dense:"",icon:"share",label:"Share"},{default:N(()=>[H(Lt,null,{default:N(()=>[H(Il,{"resource-path":n.value},null,8,["resource-path"])]),_:1})]),_:1}),H(Lo),x()?(pe(),Me(ge,{key:0,flat:"",dense:"",icon:l.value?"fullscreen_exit":"fullscreen",onClick:L[0]||(L[0]=Y=>l.value=!l.value)},null,8,["icon"])):Ze("",!0),F()?(pe(),Me(ge,{key:1,flat:"",dense:"",icon:"close",onClick:P})):Ze("",!0)]),_:1}),it("div",ai,[a.value==="image"?(pe(),Me(Zu,{key:0,root:t.root,path:n.value},null,8,["root","path"])):(pe(),Me(ei,{key:1,root:t.root,path:n.value},null,8,["root","path"]))])],2),[[ya,n.value]])]),H(Mo,{onResize:p}),it("a",{href:c.value,ref_key:"downloadHelper",ref:b,style:{visibility:"hidden"}},null,8,ni)],64))}}),ci=Yt(oi,[["__file","ResourceDisplay.vue"]]);export{si as Q,ci as R,ii as a};
